(self.webpackChunktask_master=self.webpackChunktask_master||[]).push([[8312],{92268:U=>{function H(a,t,f,h){for(var R=-1,$=a==null?0:a.length;++R<$;){var D=a[R];t(h,D,f(D),a)}return h}U.exports=H},32712:(U,H,a)=>{var t=a(66256),f=t("length");U.exports=f},20456:(U,H,a)=>{var t=a(80232);function f(h,R,$,D){return t(h,function(x,j,Z){R(D,x,$(x),Z)}),D}U.exports=f},80232:(U,H,a)=>{var t=a(48208),f=a(62632),h=f(t);U.exports=h},50572:(U,H,a)=>{var t=a(23236),f=a(58720),h="[object RegExp]";function R($){return f($)&&t($)==h}U.exports=R},22488:(U,H,a)=>{var t=a(80232),f=a(16005);function h(R,$){var D=-1,x=f(R)?Array(R.length):[];return t(R,function(j,Z,X){x[++D]=$(j,Z,X)}),x}U.exports=h},24576:(U,H,a)=>{var t=a(12480),f=a(64316),h=a(24020),R=a(22488),$=a(92048),D=a(85968),x=a(71456),j=a(45504),Z=a(75516);function X(_,ae,Ie){ae.length?ae=t(ae,function(te){return Z(te)?function(se){return f(se,te.length===1?te[0]:te)}:te}):ae=[j];var le=-1;ae=t(ae,D(h));var re=R(_,function(te,se,ne){var Fe=t(ae,function(Ne){return Ne(te)});return{criteria:Fe,index:++le,value:te}});return $(re,function(te,se){return x(te,se,Ie)})}U.exports=X},92048:U=>{function H(a,t){var f=a.length;for(a.sort(t);f--;)a[f]=a[f].value;return a}U.exports=H},13052:(U,H,a)=>{var t=a(36792);function f(h,R){if(h!==R){var $=h!==void 0,D=h===null,x=h===h,j=t(h),Z=R!==void 0,X=R===null,_=R===R,ae=t(R);if(!X&&!ae&&!j&&h>R||j&&Z&&_&&!X&&!ae||D&&Z&&_||!$&&_||!x)return 1;if(!D&&!j&&!ae&&h<R||ae&&$&&x&&!D&&!j||X&&$&&x||!Z&&x||!_)return-1}return 0}U.exports=f},71456:(U,H,a)=>{var t=a(13052);function f(h,R,$){for(var D=-1,x=h.criteria,j=R.criteria,Z=x.length,X=$.length;++D<Z;){var _=t(x[D],j[D]);if(_){if(D>=X)return _;var ae=$[D];return _*(ae=="desc"?-1:1)}}return h.index-R.index}U.exports=f},4068:(U,H,a)=>{var t=a(92268),f=a(20456),h=a(24020),R=a(75516);function $(D,x){return function(j,Z){var X=R(j)?t:f,_=x?x():{};return X(j,D,h(Z,2),_)}}U.exports=$},62632:(U,H,a)=>{var t=a(16005);function f(h,R){return function($,D){if($==null)return $;if(!t($))return h($,D);for(var x=$.length,j=R?x:-1,Z=Object($);(R?j--:++j<x)&&D(Z[j],j,Z)!==!1;);return $}}U.exports=f},16792:(U,H,a)=>{var t=a(32712),f=a(26872),h=a(83152);function R($){return f($)?h($):t($)}U.exports=R},83152:U=>{var H="\\ud800-\\udfff",a="\\u0300-\\u036f",t="\\ufe20-\\ufe2f",f="\\u20d0-\\u20ff",h=a+t+f,R="\\ufe0e\\ufe0f",$="["+H+"]",D="["+h+"]",x="\\ud83c[\\udffb-\\udfff]",j="(?:"+D+"|"+x+")",Z="[^"+H+"]",X="(?:\\ud83c[\\udde6-\\uddff]){2}",_="[\\ud800-\\udbff][\\udc00-\\udfff]",ae="\\u200d",Ie=j+"?",le="["+R+"]?",re="(?:"+ae+"(?:"+[Z,X,_].join("|")+")"+le+Ie+")*",te=le+Ie+re,se="(?:"+[Z+D+"?",D,X,_,$].join("|")+")",ne=RegExp(x+"(?="+x+")|"+se+te,"g");function Fe(Ne){for(var pe=ne.lastIndex=0;ne.test(Ne);)++pe;return pe}U.exports=Fe},30680:(U,H,a)=>{var t=a(92188),f=a(4068),h=Object.prototype,R=h.hasOwnProperty,$=f(function(D,x,j){R.call(D,j)?D[j].push(x):t(D,j,[x])});U.exports=$},22832:(U,H,a)=>{var t=a(50572),f=a(85968),h=a(53980),R=h&&h.isRegExp,$=R?f(R):t;U.exports=$},66685:(U,H,a)=>{var t=a(23236),f=a(75516),h=a(58720),R="[object String]";function $(D){return typeof D=="string"||!f(D)&&h(D)&&t(D)==R}U.exports=$},37132:(U,H,a)=>{var t=a(16411),f=a(29564),h=a(16005),R=a(66685),$=a(16792),D="[object Map]",x="[object Set]";function j(Z){if(Z==null)return 0;if(h(Z))return R(Z)?$(Z):Z.length;var X=f(Z);return X==D||X==x?Z.size:t(Z).length}U.exports=j},87144:(U,H,a)=>{var t=a(78456),f=a(24576),h=a(41912),R=a(53492),$=h(function(D,x){if(D==null)return[];var j=x.length;return j>1&&R(D,x[0],x[1])?x=[]:j>2&&R(x[0],x[1],x[2])&&(x=[x[0]]),f(D,t(x,1),[])});U.exports=$},81112:(U,H,a)=>{var t=a(43280);function f(h){return t(h).toLowerCase()}U.exports=f},64772:(U,H,a)=>{var t=a(14184),f=a(74324),h=a(26872),R=a(38955),$=a(22832),D=a(16792),x=a(33796),j=a(57628),Z=a(43280),X=30,_="...",ae=/\w*$/;function Ie(le,re){var te=X,se=_;if(R(re)){var ne="separator"in re?re.separator:ne;te="length"in re?j(re.length):te,se="omission"in re?t(re.omission):se}le=Z(le);var Fe=le.length;if(h(le)){var Ne=x(le);Fe=Ne.length}if(te>=Fe)return le;var pe=te-D(se);if(pe<1)return se;var xe=Ne?f(Ne,0,pe).join(""):le.slice(0,pe);if(ne===void 0)return xe+se;if(Ne&&(pe+=xe.length-pe),$(ne)){if(le.slice(pe).search(ne)){var at,ee=xe;for(ne.global||(ne=RegExp(ne.source,Z(ae.exec(ne))+"g")),ne.lastIndex=0;at=ne.exec(ee);)var Xe=at.index;xe=xe.slice(0,Xe===void 0?pe:Xe)}}else if(le.indexOf(t(ne),pe)!=pe){var st=xe.lastIndexOf(ne);st>-1&&(xe=xe.slice(0,st))}return xe+se}U.exports=Ie},42552:(U,H,a)=>{var t=a(89664);function f(h){return h&&h.length?t(h):[]}U.exports=f},32912:(U,H,a)=>{"use strict";a.d(H,{U:()=>R});var t=a(19968),f=a(69372),h=a(5928);const R=({options:D,...x})=>(0,t.jsx)(h.e,{...x,children:D.map(j=>"children"in j?(0,t.jsx)(h.OK,{label:j.label,values:j.children.map(Z=>Z.value.toString()),children:j.children.map(Z=>(0,t.jsx)($,{value:Z.value,children:Z.label},Z.value))},j.label):(0,t.jsx)(h.eI,{value:j.value,children:j.label},j.value))}),$=(0,f.cp)(h.eI)`
  padding-left: ${({theme:D})=>D.spaces[7]};
`},28312:(U,H,a)=>{"use strict";a.r(H),a.d(H,{A:()=>qe,C:()=>ht,a:()=>Qe,g:()=>c,i:()=>li,u:()=>De});var t=a(19968),f=a(62552),h=a(5e3),R=a(82800),$=a(55716),D=a(32912),x=a(48936),j=a(63358),Z=a(83360),X=a(28724),_=a(70996),ae=a(81504),Ie=a(25824),le=a(6496),re=a(53804),te=a(6912),se=a(80700),ne=a(35933),Fe=a(13384),Ne=a(53744),pe=a(32568),xe=a(62492),at=a(65104),ee=a(35676),Xe=a(2931),st=a(95080),Dn=a(33128),Rn=a(35480),Pn=a(79672),Bn=a(86400),$t=a(23264),Un=a(70544),Zn=a(65092),Wn=a(9544),zn=a(25352),Vn=a(11208),Gn=a(3548),Qn=a(20596),F=a(50648),Hn=a(21424),w=a(14632),Dt=a(39380),Me=a(49008),wn=a(53504),Kn=a(32016),Yn=a(87320),Xn=a(3240),Jn=a(14520),je=a(69372),qn=a(37856);const _n=(0,je.cp)(h.k)`
  svg {
    height: ${4/16}rem;
    path {
      fill: ${({theme:e})=>e.colors.neutral700};
    }
  }
`,ea=je.cp.button`
  border: none;
  padding: 0;
  background: transparent;
  display: flex;
  align-items: center;
`,ta=je.cp.div`
  display: flex;
  align-items: center;
  width: ${12/16}rem;
  transform: rotateX(${({rotated:e})=>e?"0deg":"180deg"});
`,na=({label:e,children:n,id:s})=>{const[r,o]=(0,f.useState)(!0),l=(0,qn.I)(s),i=()=>{o(d=>!d)};return(0,t.jsxs)(h.k,{children:[(0,t.jsx)(_n,{paddingLeft:7,paddingTop:2,paddingBottom:2,paddingRight:4,children:(0,t.jsx)(x.C,{justifyContent:"space-between",children:(0,t.jsxs)(ea,{onClick:i,"aria-expanded":r,"aria-controls":l,children:[(0,t.jsx)(ta,{rotated:r,children:(0,t.jsx)(Jn.c,{"aria-hidden":!0})}),(0,t.jsx)(h.k,{paddingLeft:2,children:(0,t.jsx)(j.O,{as:"span",fontWeight:"semiBold",textColor:"neutral800",children:e})})]})})}),r&&(0,t.jsx)("ul",{id:l,children:f.Children.map(n,(d,u)=>(0,t.jsx)("li",{children:d},u))})]})};var Rt=a(89976),Pt=a(5540),aa=a(5848),sa=a(39820),ot=a(50948),oa=a(58692),ra=a(37100),ia=a(27592),la=a(73376),Bt=a(15396),ca=a(67576),da=a(42760),ua=a(1984),ma=a(11464),pa=a(47564),ga=a(19960),fa=a(75384),ha=a(61924),ya=a(84084),va=a(17032),xa=a(60780),ba=a(69648),Ca=a(44792),Ta=a(86304),Ma=a(43272),ja=a(53305),Aa=a(77080),Sa=a(62584),Fa=a(14456),Na=a(46596),Oa=a(95960),La=a(21508),ka=a(25024),Ea=a(92116),Ia=a(39560),$a=a(71640),Da=a(54008),Ra=a(27548),Pa=a(57948),Ba=a(33016),Ua=a(41272),Za=a(45236),Wa=a(36944),za=a(99995),Va=a(81011),Ga=a(92508),Qa=a(59584),Ha=a(84760),wa=a(14032),Ka=a(50692),Ya=a(62736),Xa=a(15800),Ja=a(50452),qa=a(60012),_a=a(35828),es=a(60900),ts=a(28656),ns=a(37896),as=a(51768),ss=a(93048),os=a(97717),rs=a(83456),is=a(24504),ls=a(48256),cs=a(42508),ds=a(50616),us=a(30932),ms=a(872),ps=a(98168),gs=a(41724),fs=a(96476),hs=a(66156),ys=a(73560),vs=a(79136),Ut=a(89032),Zt=a(53120),Wt=a(70388),xs=a(80008),bs=a(76080),Cs=a(67864),Ts=a(21024),Ms=a(6884),js=a(88796),zt=a(5556),Vt=a(63472),Gt=a(96508),As=a(76872),Ss=a(4928),Fs=a(90152),Ns=a(89940),Os=a(35492),Ls=a(77347),ks=a(85136),Es=a(68732),Is=a(76204),$s=a(64764),Be=a(48636),Ds=a(46460),Rs=a(53312),Ps=a(89304),Bs=a(92420),Us=a(12324),Zs=a(30076),Ws=a(35520),zs=a(56280),Vs=a(43776),Qt=a(85088),Gs=a(63024),Qs=a(37272),Hs=a(37576),ws=a(71844),Ks=a(88344),Ys=a(7092),Xs=a(52928),Js=a(59512),qs=a(24392),_s=a(42296),eo=a(80196),to=a(63180),no=a(46672),ao=a(2064),so=a(6472),oo=a(44504),ro=a(59964),io=a(80208),lo=a(76120),co=a(83820),uo=a(4176),mo=a(3608),po=a(36632),go=a(13872),Je=a(44088);const fo=e=>(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 34 25",...e,children:[(0,t.jsx)("rect",{width:33,height:23,x:.5,y:1,fill:"#EAF5FF",stroke:"#B8E1FF",rx:2.5}),(0,t.jsx)("path",{fill:"#0C75AF",d:"M18.901 9.828a1.043 1.043 0 1 0 0-2.086 1.043 1.043 0 0 0 0 2.086Z"}),(0,t.jsx)("path",{fill:"#0C75AF",d:"M19.703 8.785a.81.81 0 0 1-.512.748.814.814 0 0 1-.91-.239.804.804 0 0 1 .753-1.301.814.814 0 0 1 .669.792c.005.311.487.311.483 0a1.308 1.308 0 0 0-.867-1.215 1.288 1.288 0 0 0-1.4.39 1.296 1.296 0 0 0-.119 1.489c.283.468.83.697 1.364.596.597-.113 1.012-.664 1.021-1.258.005-.314-.477-.314-.482-.002ZM18.901 13.488a1.043 1.043 0 1 0 0-2.086 1.043 1.043 0 0 0 0 2.086Z"}),(0,t.jsx)("path",{fill:"#0C75AF",d:"M19.703 12.445a.81.81 0 0 1-.512.748.814.814 0 0 1-.91-.239.804.804 0 0 1 .753-1.301.812.812 0 0 1 .669.792c.005.311.487.311.483 0a1.307 1.307 0 0 0-.867-1.215 1.288 1.288 0 0 0-1.4.39 1.296 1.296 0 0 0-.119 1.489c.283.468.83.697 1.364.596.597-.113 1.012-.664 1.021-1.258.005-.314-.477-.314-.482-.002ZM18.901 17.247a1.043 1.043 0 1 0 0-2.086 1.043 1.043 0 0 0 0 2.086Z"}),(0,t.jsx)("path",{fill:"#0C75AF",d:"M19.703 16.204a.81.81 0 0 1-.512.748.814.814 0 0 1-.91-.239.804.804 0 0 1 .753-1.301.812.812 0 0 1 .669.792c.005.311.487.311.483 0a1.308 1.308 0 0 0-.867-1.215 1.288 1.288 0 0 0-1.4.39 1.296 1.296 0 0 0-.119 1.489c.283.468.83.698 1.364.596.597-.113 1.012-.664 1.021-1.258.005-.313-.477-.313-.482-.002ZM15.075 9.842a1.043 1.043 0 1 0 0-2.086 1.043 1.043 0 0 0 0 2.086Z"}),(0,t.jsx)("path",{fill:"#0C75AF",d:"M15.876 8.8a.81.81 0 0 1-.512.748.814.814 0 0 1-.91-.24.804.804 0 0 1 .753-1.301.81.81 0 0 1 .669.792c.005.312.488.312.483 0a1.308 1.308 0 0 0-.867-1.214 1.288 1.288 0 0 0-1.4.389 1.296 1.296 0 0 0-.119 1.49c.283.468.831.697 1.365.596.596-.114 1.011-.664 1.02-1.258.006-.314-.477-.314-.482-.003ZM15.075 13.503a1.043 1.043 0 1 0 0-2.086 1.043 1.043 0 0 0 0 2.086Z"}),(0,t.jsx)("path",{fill:"#0C75AF",d:"M15.876 12.46a.81.81 0 0 1-.512.748.814.814 0 0 1-.91-.24.804.804 0 0 1 .753-1.301.81.81 0 0 1 .669.792c.005.312.488.312.483 0a1.308 1.308 0 0 0-.867-1.214 1.288 1.288 0 0 0-1.4.389 1.296 1.296 0 0 0-.119 1.49c.283.468.831.697 1.365.596.596-.114 1.011-.664 1.02-1.258.006-.314-.477-.314-.482-.003ZM15.075 17.261a1.043 1.043 0 1 0 0-2.086 1.043 1.043 0 0 0 0 2.086Z"}),(0,t.jsx)("path",{fill:"#0C75AF",d:"M15.876 16.218a.81.81 0 0 1-.512.749.814.814 0 0 1-.91-.24.804.804 0 0 1 .753-1.301.808.808 0 0 1 .669.792c.005.312.488.312.483 0a1.308 1.308 0 0 0-.867-1.214 1.288 1.288 0 0 0-1.4.389 1.293 1.293 0 0 0-.119 1.487c.283.468.831.698 1.365.596.596-.113 1.011-.664 1.02-1.258.006-.311-.477-.311-.482 0Z"})]}),ho=fo;var yo=a(57252);const vo=e=>(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 32 24",...e,children:[(0,t.jsx)("rect",{width:31,height:23,x:.5,y:.5,fill:"#4945FF",stroke:"#4945FF",rx:2.5}),(0,t.jsx)("path",{fill:"#fff",d:"M15.328 10.54h1.723c.012-.089.012-.165.012-.253 0-1.676-1.471-2.959-3.41-2.959-2.696 0-4.647 2.22-4.647 5.344 0 2.15 1.383 3.545 3.504 3.545 2.045 0 3.597-1.154 3.967-2.936h-1.752c-.276.826-1.102 1.371-2.063 1.371-1.137 0-1.846-.802-1.846-2.103 0-2.08 1.19-3.65 2.725-3.65 1.037 0 1.746.62 1.787 1.558v.082ZM21.053 16l1.488-6.943h2.531l.31-1.512H18.54l-.31 1.512h2.53L19.272 16h1.782Z"})]}),Ht=vo;var xo=a(50064),rt=a(47912),bo=a(13520),Co=a(86108),wt=a(42260),ut=a(35704),Kt=a(51855);const To=e=>(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 32 24",...e,children:[(0,t.jsx)("path",{fill:"#FDF4DC",stroke:"#FAE7B9",d:"M.5 3A2.5 2.5 0 0 1 3 .5h26A2.5 2.5 0 0 1 31.5 3v18a2.5 2.5 0 0 1-2.5 2.5H3A2.5 2.5 0 0 1 .5 21V3Z"}),(0,t.jsx)("path",{fill:"#D9822F",d:"M20.158 11.995c0-.591-.463-1.073-1.045-1.11H13.53V9.245a2.05 2.05 0 0 1 2.046-2.049c1.13 0 2.048.784 2.049 1.913 0 .24.194.433.433.433h.33a.433.433 0 0 0 .433-.433C18.82 7.32 17.365 5.999 15.577 6a3.246 3.246 0 0 0-3.241 3.244v1.642h-.223c-.615 0-1.113.499-1.113 1.114v4.887c.001.615.5 1.113 1.115 1.113l6.93-.003c.616 0 1.114-.5 1.114-1.115l-.001-4.887Z"})]}),Mo=To;var jo=a(46849);const Ao=e=>(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 32 24",...e,children:[(0,t.jsx)("rect",{width:31,height:23,x:.5,y:.5,fill:"#EAF5FF",stroke:"#B8E1FF",rx:2.5}),(0,t.jsx)("path",{fill:"#0C75AF",fillRule:"evenodd",d:"M19.286 9.286v-.857a.397.397 0 0 0-.138-.302A.465.465 0 0 0 18.82 8h-8.357a.465.465 0 0 0-.326.127.397.397 0 0 0-.138.302v.857c0 .116.046.216.138.301.092.085.2.127.326.127h8.357a.465.465 0 0 0 .327-.127.397.397 0 0 0 .138-.301Zm2.785 2.713v.857a.397.397 0 0 1-.137.301.465.465 0 0 1-.327.128H10.464a.465.465 0 0 1-.326-.128.397.397 0 0 1-.138-.301v-.857c0-.116.046-.217.138-.302a.465.465 0 0 1 .326-.127h11.143c.126 0 .235.043.327.127a.397.397 0 0 1 .137.302Zm-1.857 3.574v.857a.397.397 0 0 1-.137.302.465.465 0 0 1-.327.127h-9.286a.465.465 0 0 1-.326-.127.397.397 0 0 1-.138-.302v-.857c0-.116.046-.216.138-.301a.465.465 0 0 1 .326-.127h9.286c.126 0 .235.042.326.127a.397.397 0 0 1 .138.301Z",clipRule:"evenodd"})]}),So=Ao,Fo=e=>(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 32 24",...e,children:[(0,t.jsx)("rect",{width:31,height:23,x:.5,y:.5,fill:"#0C75AF",stroke:"#0C75AF",rx:2.5}),(0,t.jsx)("path",{fill:"#fff",d:"M8.523 13.586c.106 1.64 1.418 2.63 3.34 2.63 2.098 0 3.516-1.113 3.516-2.788 0-1.143-.65-1.846-2.086-2.297l-.867-.27c-.797-.252-1.137-.597-1.137-1.066 0-.598.633-1.031 1.459-1.031.873 0 1.512.474 1.617 1.183h1.67c-.053-1.54-1.36-2.619-3.217-2.619-1.91 0-3.328 1.131-3.328 2.678 0 1.09.715 1.922 1.963 2.309l.879.275c.914.287 1.266.592 1.266 1.084 0 .662-.657 1.107-1.606 1.107-.914 0-1.635-.469-1.758-1.195h-1.71ZM20.107 16l1.489-6.943h2.531l.31-1.512h-6.843l-.31 1.512h2.53L18.326 16h1.781Z"})]}),No=Fo;var Yt=a(22557),Oo=a(7632);const Lo=e=>(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 24 24",...e,children:[(0,t.jsx)("path",{fill:"#181826",d:"m10.614 17.796.878-2.01a7.742 7.742 0 0 1 3.94-3.992l2.416-1.072c.768-.341.768-1.458 0-1.8l-2.34-1.038a7.747 7.747 0 0 1-3.997-4.125l-.89-2.142a.946.946 0 0 0-1.758 0l-.889 2.142a7.747 7.747 0 0 1-3.997 4.125l-2.34 1.039c-.768.34-.768 1.458 0 1.799l2.415 1.072a7.742 7.742 0 0 1 3.94 3.991l.878 2.01a.946.946 0 0 0 1.744 0Zm8.787 4.894.247-.566a4.365 4.365 0 0 1 2.221-2.25l.76-.339a.53.53 0 0 0 0-.963l-.717-.319a4.368 4.368 0 0 1-2.253-2.326l-.254-.611a.507.507 0 0 0-.942 0l-.254.61a4.368 4.368 0 0 1-2.253 2.327l-.718.32a.53.53 0 0 0 0 .962l.76.338a4.365 4.365 0 0 1 2.222 2.251l.247.566c.18.414.754.414.934 0Z"}),(0,t.jsx)("path",{fill:"#181826",d:"m10.614 17.796.878-2.01a7.742 7.742 0 0 1 3.94-3.992l2.416-1.072c.768-.341.768-1.458 0-1.8l-2.34-1.038a7.747 7.747 0 0 1-3.997-4.125l-.89-2.142a.946.946 0 0 0-1.758 0l-.889 2.142a7.747 7.747 0 0 1-3.997 4.125l-2.34 1.039c-.768.34-.768 1.458 0 1.799l2.415 1.072a7.742 7.742 0 0 1 3.94 3.991l.878 2.01a.946.946 0 0 0 1.744 0Zm8.787 4.894.247-.566a4.365 4.365 0 0 1 2.221-2.25l.76-.339a.53.53 0 0 0 0-.963l-.717-.319a4.368 4.368 0 0 1-2.253-2.326l-.254-.611a.507.507 0 0 0-.942 0l-.254.61a4.368 4.368 0 0 1-2.253 2.327l-.718.32a.53.53 0 0 0 0 .962l.76.338a4.365 4.365 0 0 1 2.222 2.251l.247.566c.18.414.754.414.934 0Z"})]}),ko=Lo;var Eo=a(79848),Io=a(71324),$e=a(30840),b=a(55440),mt=a(13192),I=a(85676),$o=a(30680),Xt=a(35184),Do=a(37132),Ge=a(70516),Ro=a(56781),Jt=a(81112),Po=a(12132),it=a(61397),qt=a(64772),Bo=a(42552),T=a(52540),Uo=a(83180),G=a(77784),pt=a(61152),_t=a(67432),Zo=a(18424),en=a(21968),Wo=a(87144);const c=e=>`${b.p}.${e}`,tn=(0,f.createContext)(),De=()=>(0,f.useContext)(tn),nn=f.createContext(),Qe=()=>(0,f.useContext)(nn),zo=()=>{const{components:e,componentsGroupedByCategory:n,contentTypes:s,isInDevelopmentMode:r,sortedContentTypesList:o,modifiedData:l,initialData:i}=De(),d=(0,F.eo)(),{trackUsage:u}=(0,F.m4)(),[p,g]=(0,f.useState)(""),{onOpenModalCreateSchema:m,onOpenModalEditCategory:E}=Qe(),{locale:S}=(0,w.c)(),{startsWith:C}=(0,F.WO)(S,{sensitivity:"base"}),A=(0,F.In)(S,{sensitivity:"base"}),W=!Object.keys(s).some(z=>s[z].isTemporary===!0)&&!Object.keys(e).some(z=>e[z].isTemporary===!0)&&mt(l,i),M=()=>{W?(u("willCreateContentType"),m({modalType:"contentType",kind:"collectionType",actionType:"create",forTarget:"contentType"})):B()},L=()=>{W?(u("willCreateSingleType"),m({modalType:"contentType",kind:"singleType",actionType:"create",forTarget:"contentType"})):B()},P=()=>{W?(u("willCreateComponent"),m({modalType:"component",kind:null,actionType:"create",forTarget:"component"})):B()},B=()=>{d({type:"info",message:{id:c("notification.info.creating.notSaved"),defaultMessage:"Please save your work before creating a new collection type or component"}})},J=Object.entries(n).map(([z,ve])=>({name:z,title:z,isEditable:r,onClickEdit(q,Ce){q.stopPropagation(),W?E(Ce.name):B()},links:ve.map(q=>({name:q.uid,to:`/plugins/${b.p}/component-categories/${z}/${q.uid}`,title:q.schema.displayName})).sort((q,Ce)=>A.compare(q.title,Ce.title))})).sort((z,ve)=>A.compare(z.title,ve.title)),ue=o.filter(z=>z.visible);return{menu:[{name:"models",title:{id:`${c("menu.section.models.name")}`,defaultMessage:"Collection Types"},customLink:r&&{id:`${c("button.model.create")}`,defaultMessage:"Create new collection type",onClick:M},links:ue.filter(z=>z.kind==="collectionType")},{name:"singleTypes",title:{id:`${c("menu.section.single-types.name")}`,defaultMessage:"Single Types"},customLink:r&&{id:`${c("button.single-types.create")}`,defaultMessage:"Create new single type",onClick:L},links:ue.filter(z=>z.kind==="singleType")},{name:"components",title:{id:`${c("menu.section.components.name")}`,defaultMessage:"Components"},customLink:r&&{id:`${c("button.component.create")}`,defaultMessage:"Create a new component",onClick:P},links:J}].map(z=>z.links.some(q=>Array.isArray(q.links))?{...z,links:z.links.map(q=>{const Ce=q.links.filter(ge=>C(ge.title,p));return Ce.length===0?null:{...q,links:Ce.sort((ge,oe)=>A.compare(ge.title,oe.title))}}).filter(Boolean)}:{...z,links:z.links.filter(q=>C(q.title,p)).sort((q,Ce)=>A.compare(q.title,Ce.title))}),searchValue:p,onSearchChange:g}},Vo=()=>{const{menu:e,searchValue:n,onSearchChange:s}=zo(),{formatMessage:r}=(0,w.c)();return(0,t.jsxs)(wn.y,{ariaLabel:r({id:`${c("plugin.name")}`,defaultMessage:"Content-Types Builder"}),children:[(0,t.jsx)(Kn.C,{searchable:!0,value:n,onClear:()=>s(""),onChange:o=>s(o.target.value),label:r({id:`${c("plugin.name")}`,defaultMessage:"Content-Types Builder"}),searchLabel:r({id:"global.search",defaultMessage:"Search"})}),(0,t.jsx)(Yn.I,{children:e.map(o=>(0,t.jsxs)(f.Fragment,{children:[(0,t.jsx)(Xn.A,{label:r({id:o.title.id,defaultMessage:o.title.defaultMessage}),collapsable:!0,badgeLabel:o.links.length.toString(),children:o.links.map(l=>l.links?(0,t.jsx)(na,{label:$e(l.title),children:l.links.map(i=>(0,t.jsx)(Rt.w,{as:Dt.Af,to:i.to,active:i.active,isSubSectionChild:!0,children:$e(r({id:i.name,defaultMessage:i.title}))},i.name))},l.name):(0,t.jsx)(Rt.w,{as:Dt.Af,to:l.to,active:l.active,children:$e(r({id:l.name,defaultMessage:l.title}))},l.name))}),o.customLink&&(0,t.jsx)(h.k,{paddingLeft:7,children:(0,t.jsx)(R.c,{onClick:o.customLink.onClick,startIcon:(0,t.jsx)($.G,{as:Be.c,width:(0,F.W8)(8),height:(0,F.W8)(8)}),marginTop:2,children:r({id:o.customLink.id,defaultMessage:o.customLink.defaultMessage})})})]},o.name))})]})},an=e=>e.kind==="collectionType"&&(e.restrictRelationsTo===null||Array.isArray(e.restrictRelationsTo)&&e.restrictRelationsTo.length>0),gt=(e,n)=>e.find(({name:s})=>s===n),Go=[{label:"All",children:[{label:"images (JPEG, PNG, GIF, SVG, TIFF, ICO, DVU)",value:"images"},{label:"videos (MPEG, MP4, Quicktime, WMV, AVI, FLV)",value:"videos"},{label:"audios (MP3, WAV, OGG)",value:"audios"},{label:"files (CSV, ZIP, PDF, Excel, JSON, ...)",value:"files"}]}],Qo=({intlLabel:e,name:n,onChange:s,value:r=null})=>{const{formatMessage:o}=(0,w.c)(),l=r===null||r?.length===0?o({id:"global.none",defaultMessage:"None"}):[...r].sort().map(d=>$e(d)).join(", "),i=e.id?o({id:e.id,defaultMessage:e.defaultMessage}):n;return(0,t.jsx)(D.U,{id:"select1",label:i,customizeContent:()=>l,onChange:d=>{d.length>0?s({target:{name:n,value:d,type:"allowed-types-select"}}):s({target:{name:n,value:null,type:"allowed-types-select"}})},options:Go,value:r||[]})},sn={biginteger:Je.c,blocks:ho,boolean:yo.c,collectionType:Ht,component:xo.c,contentType:Ht,date:rt.c,datetime:rt.c,decimal:Je.c,dynamiczone:bo.c,email:Co.c,enum:wt.c,enumeration:wt.c,file:ut.c,files:ut.c,float:Je.c,integer:Je.c,json:Kt.c,JSON:Kt.c,media:ut.c,number:Je.c,password:Mo,relation:jo.c,richtext:So,singleType:No,string:Yt.c,text:Yt.c,time:rt.c,timestamp:rt.c,uid:Oo.c},Ho=(0,je.cp)(h.k)`
  svg {
    height: 100%;
    width: 100%;
  }
`,qe=({type:e,customField:n=null,...s})=>{const r=(0,F.QV)();let o=sn[e];if(n){const i=r.get(n)?.icon;i&&(o=i)}return sn[e]?(0,t.jsx)(Ho,{height:(0,F.W8)(24),width:(0,F.W8)(32),shrink:0,...s,"aria-hidden":!0,children:(0,t.jsx)(h.k,{as:o})}):null},on=(0,je.cp)(h.k)`
  width: 100%;
  height: 100%;
  border: 1px solid ${({theme:e})=>e.colors.neutral200};
  text-align: left;
  &:hover {
    background: ${({theme:e})=>e.colors.primary100};
    border: 1px solid ${({theme:e})=>e.colors.primary200};
  }
`,wo=[],Ko=()=>(0,t.jsx)(x.C,{grow:1,justifyContent:"flex-end",children:(0,t.jsxs)(x.C,{gap:1,hasRadius:!0,background:"alternative100",padding:`${2/16}rem ${4/16}rem`,children:[(0,t.jsx)($.G,{width:`${10/16}rem`,height:`${10/16}rem`,as:ko,color:"alternative600"}),(0,t.jsx)(j.O,{textColor:"alternative600",variant:"sigma",children:"New"})]})}),Yo=({type:e="text"})=>{const{formatMessage:n}=(0,w.c)(),{onClickSelectField:s}=Qe(),r=()=>{s({attributeType:e,step:e==="component"?"1":null})};return(0,t.jsx)(on,{padding:4,as:"button",hasRadius:!0,type:"button",onClick:r,children:(0,t.jsxs)(x.C,{children:[(0,t.jsx)(qe,{type:e}),(0,t.jsxs)(h.k,{paddingLeft:4,width:"100%",children:[(0,t.jsxs)(x.C,{justifyContent:"space-between",children:[(0,t.jsx)(j.O,{fontWeight:"bold",children:n({id:c(`attribute.${e}`),defaultMessage:e})}),wo.includes(e)&&(0,t.jsx)(Ko,{})]}),(0,t.jsx)(x.C,{children:(0,t.jsx)(j.O,{variant:"pi",textColor:"neutral600",children:n({id:c(`attribute.${e}.description`),defaultMessage:"A type for modeling data"})})})]})]})})},Xo=({attributes:e})=>(0,t.jsx)(Z.a,{tagName:"button",children:(0,t.jsx)(x.C,{direction:"column",alignItems:"stretch",gap:8,children:e.map((n,s)=>(0,t.jsx)(X.y,{gap:3,children:n.map(r=>(0,t.jsx)(_.C,{col:6,children:(0,t.jsx)(Yo,{type:r})},r))},s))})}),Jo=({customFieldUid:e,customField:n})=>{const{type:s,intlLabel:r,intlDescription:o}=n,{formatMessage:l}=(0,w.c)(),{onClickSelectCustomField:i}=Qe(),d=()=>{i({attributeType:s,customFieldUid:e})};return(0,t.jsx)(on,{padding:4,as:"button",hasRadius:!0,type:"button",onClick:d,children:(0,t.jsxs)(x.C,{children:[(0,t.jsx)(qe,{type:s,customField:e}),(0,t.jsxs)(h.k,{paddingLeft:4,children:[(0,t.jsx)(x.C,{children:(0,t.jsx)(j.O,{fontWeight:"bold",children:l(r)})}),(0,t.jsx)(x.C,{children:(0,t.jsx)(j.O,{variant:"pi",textColor:"neutral600",children:l(o)})})]})]})})},qo=(0,je.cp)(h.k)`
  background: ${({theme:e})=>`linear-gradient(180deg, rgba(234, 234, 239, 0) 0%, ${e.colors.neutral150} 100%)`};
  opacity: 0.33;
`,_o=()=>(0,t.jsx)(x.C,{wrap:"wrap",gap:4,children:[...Array(4)].map((e,n)=>(0,t.jsx)(qo,{height:"138px",width:"375px",hasRadius:!0},`empty-card-${n}`))}),er=()=>{const{formatMessage:e}=(0,w.c)();return(0,t.jsxs)(h.k,{position:"relative",children:[(0,t.jsx)(_o,{}),(0,t.jsx)(h.k,{position:"absolute",top:6,width:"100%",children:(0,t.jsxs)(x.C,{alignItems:"center",justifyContent:"center",direction:"column",children:[(0,t.jsx)($.G,{as:Eo.c,color:"",width:"160px",height:"88px"}),(0,t.jsx)(h.k,{paddingTop:6,paddingBottom:4,children:(0,t.jsxs)(h.k,{textAlign:"center",children:[(0,t.jsx)(j.O,{variant:"delta",as:"p",textColor:"neutral600",children:e({id:c("modalForm.empty.heading"),defaultMessage:"Nothing in here yet."})}),(0,t.jsx)(h.k,{paddingTop:4,children:(0,t.jsx)(j.O,{variant:"delta",as:"p",textColor:"neutral600",children:e({id:c("modalForm.empty.sub-heading"),defaultMessage:"Find what you are looking for through a wide range of extensions."})})})]})}),(0,t.jsx)(ae.E,{to:`/marketplace?${Po.stringify({categories:["Custom fields"]})}`,variant:"secondary",startIcon:(0,t.jsx)(Be.c,{}),children:e({id:c("modalForm.empty.button"),defaultMessage:"Add custom fields"})})]})})]})},tr=()=>{const{formatMessage:e}=(0,w.c)(),n=(0,F.QV)(),s=Object.entries(n.getAll());if(!s.length)return(0,t.jsx)(er,{});const r=s.sort((o,l)=>o[1].name>l[1].name?1:-1);return(0,t.jsx)(Z.a,{tagName:"button",children:(0,t.jsxs)(x.C,{direction:"column",alignItems:"stretch",gap:3,children:[(0,t.jsx)(X.y,{gap:3,children:r.map(([o,l])=>(0,t.jsx)(_.C,{col:6,children:(0,t.jsx)(Jo,{customFieldUid:o,customField:l},o)},o))}),(0,t.jsx)(Pt.c,{href:"https://docs.strapi.io/developer-docs/latest/development/custom-fields.html",isExternal:!0,children:e({id:c("modalForm.tabs.custom.howToLink"),defaultMessage:"How to add custom fields"})})]})})},nr=({attributes:e,forTarget:n,kind:s})=>{const{formatMessage:r}=(0,w.c)(),o=c("modalForm.tabs.default"),l=c("modalForm.tabs.custom"),i=n.includes("component")?"component":s,d=c(`modalForm.sub-header.chooseAttribute.${i}`);return(0,t.jsx)(Ie.a,{padding:7,children:(0,t.jsxs)(le.M,{label:r({id:c("modalForm.tabs.label"),defaultMessage:"Default and Custom types tabs"}),id:"attribute-type-tabs",variant:"simple",children:[(0,t.jsxs)(x.C,{justifyContent:"space-between",children:[(0,t.jsx)(j.O,{variant:"beta",as:"h2",children:r({id:d,defaultMessage:"Select a field"})}),(0,t.jsxs)(re.k,{children:[(0,t.jsx)(re.s,{children:r({id:o,defaultMessage:"Default"})}),(0,t.jsx)(re.s,{children:r({id:l,defaultMessage:"Custom"})})]})]}),(0,t.jsx)(h.k,{paddingBottom:6,children:(0,t.jsx)(te.c,{})}),(0,t.jsxs)(se.o,{children:[(0,t.jsx)(se.G,{children:(0,t.jsx)(Xo,{attributes:e})}),(0,t.jsx)(se.G,{children:(0,t.jsx)(tr,{})})]})]})})},ar=({intlLabel:e,name:n,options:s,onChange:r,value:o=null})=>{const{formatMessage:l}=(0,w.c)(),i=e.id?l({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):n,d=u=>{let p="";u==="true"&&(p=!0),u==="false"&&(p=!1),r({target:{name:n,value:p,type:"select-default-boolean"}})};return(0,t.jsx)(ne.M,{label:i,id:n,name:n,onChange:d,value:(o===null?"":o).toString(),children:s.map(({metadatas:{intlLabel:u,disabled:p,hidden:g},key:m,value:E})=>(0,t.jsx)(Fe.c,{value:E,disabled:p,hidden:g,children:u.defaultMessage},m))})},sr=(0,je.cp)(x.C)`
  position: relative;
  align-items: stretch;

  label {
    border-radius: 4px;
    max-width: 50%;
    cursor: pointer;
    user-select: none;
    flex: 1;
    ${(0,Ne.Ih)()}
  }

  input {
    position: absolute;
    opacity: 0;
  }

  .option {
    height: 100%;
    border-radius: 4px;
    border: 1px solid ${({theme:e})=>e.colors.neutral200};
    will-change: transform, opacity;
    background: ${({theme:e})=>e.colors.neutral0};

    .checkmark {
      position: relative;
      display: block;
      will-change: transform;
      background: ${({theme:e})=>e.colors.neutral0};
      width: ${({theme:e})=>e.spaces[5]};
      height: ${({theme:e})=>e.spaces[5]};
      border: solid 1px ${({theme:e})=>e.colors.neutral300};
      border-radius: 50%;

      &:before,
      &:after {
        content: '';
        display: block;
        border-radius: 50%;
        width: ${({theme:e})=>e.spaces[3]};
        height: ${({theme:e})=>e.spaces[3]};
        position: absolute;
        top: 3px;
        left: 3px;
      }

      &:after {
        transform: scale(0);
        transition: inherit;
        will-change: transform;
      }
    }
  }

  .container input:checked ~ div {
    background: ${({theme:e})=>e.colors.primary100};
    ${j.O} {
      color: ${({theme:e})=>e.colors.primary600};
    }
    border: 1px solid ${({theme:e})=>e.colors.primary200};
    .checkmark {
      border: solid 1px ${({theme:e})=>e.colors.primary600};
      &::after {
        background: ${({theme:e})=>e.colors.primary600};
        transform: scale(1);
      }
    }
  }
`,ft=({intlLabel:e,name:n,onChange:s,radios:r=[],value:o})=>{const{formatMessage:l}=(0,w.c)();return(0,t.jsxs)(x.C,{direction:"column",alignItems:"stretch",gap:2,children:[(0,t.jsx)(j.O,{variant:"pi",fontWeight:"bold",textColor:"neutral800",htmlFor:n,as:"label",children:l(e)}),(0,t.jsx)(sr,{gap:4,alignItems:"stretch",children:r.map(i=>(0,t.jsxs)("label",{htmlFor:i.value.toString(),className:"container",children:[(0,t.jsx)("input",{id:i.value.toString(),name:n,className:"option-input",checked:i.value===o,value:i.value,onChange:s,type:"radio"},i.value),(0,t.jsx)(h.k,{className:"option",padding:4,children:(0,t.jsxs)(x.C,{children:[(0,t.jsx)(h.k,{paddingRight:4,children:(0,t.jsx)("span",{className:"checkmark"})}),(0,t.jsxs)(x.C,{direction:"column",alignItems:"stretch",gap:2,children:[(0,t.jsx)(j.O,{fontWeight:"bold",children:l(i.title)}),(0,t.jsx)(j.O,{variant:"pi",textColor:"neutral600",children:l(i.description)})]})]})})]},i.value))})]})},or=({onChange:e,name:n,intlLabel:s,...r})=>{const o=l=>{const i=l.target.value!=="false";e({target:{name:n,value:i,type:"boolean-radio-group"}})};return(0,t.jsx)(ft,{...r,name:n,onChange:o,intlLabel:s})},rr=({error:e,intlLabel:n,modifiedData:s,name:r,onChange:o,value:l=null})=>{const{formatMessage:i}=(0,w.c)(),[d,u]=(0,f.useState)(!!l||l===0),p=n.id?i({id:n.id,defaultMessage:n.defaultMessage},{...n.values}):r,g=s.type==="biginteger"?"text":"number",m=!s.type,E=e?i({id:e,defaultMessage:e}):"";return(0,t.jsxs)(x.C,{direction:"column",alignItems:"stretch",gap:2,children:[(0,t.jsx)(pe.y,{id:r,name:r,onValueChange:S=>{o({target:{name:r,value:S?g==="text"?"0":0:null}}),u(W=>!W)},value:d,children:p}),d&&(0,t.jsx)(h.k,{paddingLeft:6,style:{maxWidth:"200px"},children:g==="text"?(0,t.jsx)(xe.g,{label:"","aria-label":p,disabled:m,error:E,id:r,name:r,onChange:o,value:l===null?"":l}):(0,t.jsx)(at.W,{"aria-label":p,disabled:m,error:E,id:r,name:r,onValueChange:S=>{o({target:{name:r,value:S,type:g}})},value:l||0})})]})},ir=({onChange:e,...n})=>{const s=(0,F.eo)(),r=o=>{s({type:"info",message:{id:c("contentType.kind.change.warning"),defaultMessage:"You just changed the kind of a content type: API will be reset (routes, controllers, and services will be overwritten)."}}),e(o)};return(0,t.jsx)(ft,{...n,onChange:r})},lr=({description:e,disabled:n=!1,intlLabel:s,isCreating:r,name:o,onChange:l,value:i=!1})=>{const{formatMessage:d}=(0,w.c)(),[u,p]=(0,f.useState)(!1),g=s.id?d({id:s.id,defaultMessage:s.defaultMessage},{...s.values}):o,m=e?d({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",E=()=>p(A=>!A),S=()=>{l({target:{name:o,value:!1}}),E()},C=({target:{checked:A}})=>{if(!A&&!r){E();return}l({target:{name:o,value:A}})};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(pe.y,{checked:i,disabled:n,hint:m,name:o,onChange:C,children:g}),(0,t.jsx)(F.cz,{isOpen:u,onToggleDialog:E,onConfirm:S,bodyText:{id:c("popUpWarning.draft-publish.message"),defaultMessage:"If you disable the draft & publish, your drafts will be deleted."},leftButtonText:{id:"components.popUpWarning.button.cancel",defaultMessage:"No, cancel"},rightButtonText:{id:c("popUpWarning.draft-publish.button.confirm"),defaultMessage:"Yes, disable"}})]})},cr=({categoryName:e,deleteCategory:n,deleteComponent:s,deleteContentType:r,isAttributeModal:o,isCustomFieldModal:l,isComponentAttribute:i,isComponentToDzModal:d,isContentTypeModal:u,isCreatingComponent:p,isCreatingComponentAttribute:g,isCreatingComponentInDz:m,isCreatingComponentWhileAddingAField:E,isCreatingContentType:S,isCreatingDz:C,isComponentModal:A,isDzAttribute:W,isEditingAttribute:M,isEditingCategory:L,isInFirstComponentStep:P,onSubmitAddComponentAttribute:B,onSubmitAddComponentToDz:J,onSubmitCreateContentType:ue,onSubmitCreateComponent:be,onSubmitCreateDz:z,onSubmitEditAttribute:ve,onSubmitEditCategory:q,onSubmitEditComponent:Ce,onSubmitEditContentType:ge,onSubmitEditCustomFieldAttribute:oe,onSubmitEditDz:Re,onClickFinish:me})=>{const{formatMessage:Y}=(0,w.c)();return d?m?(0,t.jsx)(ee.Z,{variant:"secondary",type:"submit",onClick:N=>{N.preventDefault(),J(N,!0)},startIcon:(0,t.jsx)(Be.c,{}),children:Y({id:c("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"})}):(0,t.jsx)(ee.Z,{variant:"default",type:"submit",onClick:N=>{N.preventDefault(),J(N,!1)},children:Y({id:"global.finish",defaultMessage:"Finish"})}):o&&W&&!C?(0,t.jsx)(ee.Z,{variant:"default",type:"submit",onClick:N=>{N.preventDefault(),me(),Re(N,!1)},children:Y({id:"global.finish",defaultMessage:"Finish"})}):o&&W&&C?(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(ee.Z,{variant:"secondary",type:"submit",onClick:N=>{N.preventDefault(),z(N,!0)},startIcon:(0,t.jsx)(Be.c,{}),children:Y({id:c("form.button.add-components-to-dynamiczone"),defaultMessage:"Add components to the zone"})})}):o&&i?P?(0,t.jsx)(ee.Z,{variant:"secondary",type:"submit",onClick:N=>{N.preventDefault(),B(N,!0)},children:Y(g?{id:c("form.button.configure-component"),defaultMessage:"Configure the component"}:{id:c("form.button.select-component"),defaultMessage:"Configure the component"})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(ee.Z,{variant:"secondary",type:"submit",onClick:N=>{N.preventDefault(),B(N,!0)},startIcon:(0,t.jsx)(Be.c,{}),children:Y(E?{id:c("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"}:{id:c("form.button.add-field"),defaultMessage:"Add another field"})}),(0,t.jsx)(ee.Z,{variant:"default",type:"button",onClick:N=>{N.preventDefault(),me(),B(N,!1)},children:Y({id:"global.finish",defaultMessage:"Finish"})})]}):o&&!i&&!W?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(ee.Z,{type:M?"button":"submit",variant:"secondary",onClick:N=>{N.preventDefault(),ve(N,!0)},startIcon:(0,t.jsx)(Be.c,{}),children:Y({id:c("form.button.add-field"),defaultMessage:"Add another field"})}),(0,t.jsx)(ee.Z,{type:M?"submit":"button",variant:"default",onClick:N=>{N.preventDefault(),me(),ve(N,!1)},children:Y({id:"global.finish",defaultMessage:"Finish"})})]}):u?(0,t.jsxs)(t.Fragment,{children:[!S&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(ee.Z,{type:"button",variant:"danger",onClick:N=>{N.preventDefault(),r()},children:Y({id:"global.delete",defaultMessage:"Delete"})}),(0,t.jsx)(ee.Z,{type:"submit",variant:"default",onClick:N=>{N.preventDefault(),ge(N,!1)},children:Y({id:"global.finish",defaultMessage:"Finish"})})]}),S&&(0,t.jsx)(ee.Z,{type:"submit",variant:"secondary",onClick:N=>{N.preventDefault(),ue(N,!0)},children:Y({id:"global.continue",defaultMessage:"Continue"})})]}):A?(0,t.jsxs)(t.Fragment,{children:[!p&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(ee.Z,{type:"button",variant:"danger",onClick:N=>{N.preventDefault(),s()},children:Y({id:"global.delete",defaultMessage:"Delete"})}),(0,t.jsx)(ee.Z,{type:"submit",variant:"default",onClick:N=>{N.preventDefault(),Ce(N,!1)},children:Y({id:"global.finish",defaultMessage:"Finish"})})]}),p&&(0,t.jsx)(ee.Z,{type:"submit",variant:"secondary",onClick:N=>{N.preventDefault(),be(N,!0)},children:Y({id:"global.continue",defaultMessage:"Continue"})})]}):L?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(ee.Z,{type:"button",variant:"danger",onClick:N=>{N.preventDefault(),e&&n(e)},children:Y({id:"global.delete",defaultMessage:"Delete"})}),(0,t.jsx)(ee.Z,{type:"submit",variant:"default",onClick:N=>{N.preventDefault(),q(N)},children:Y({id:"global.finish",defaultMessage:"finish"})})]}):l?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(ee.Z,{type:M?"button":"submit",variant:"secondary",onClick:N=>{N.preventDefault(),oe(N,!0)},startIcon:(0,t.jsx)(Be.c,{}),children:Y({id:c("form.button.add-field"),defaultMessage:"Add another field"})}),(0,t.jsx)(ee.Z,{type:M?"submit":"button",variant:"default",onClick:N=>{N.preventDefault(),me(),oe(N,!1)},children:Y({id:"global.finish",defaultMessage:"Finish"})})]}):null},dr=({actionType:e=null,attributeName:n,attributeType:s,categoryName:r,contentTypeKind:o,dynamicZoneTarget:l,forTarget:i,modalType:d=null,targetUid:u,customFieldUid:p=null,showBackLink:g=!1})=>{const{formatMessage:m}=(0,w.c)(),{modifiedData:E}=De(),{onOpenModalAddField:S}=Qe();let C="component",A=[];const W=E?.[i]?.[u]||E?.[i]||null,M=W?.schema.displayName;if(d==="contentType"&&(C=o),["component","editCategory"].includes(d||"")&&(C="component"),["component","contentType"].includes(d||"")){let P=c(`modalForm.component.header-${e}`);return d==="contentType"&&(P=c(`modalForm.${o}.header-create`)),e==="edit"&&(P=c("modalForm.header-edit")),(0,t.jsx)(Xe.k,{children:(0,t.jsxs)(x.C,{children:[(0,t.jsx)(h.k,{children:(0,t.jsx)(qe,{type:C})}),(0,t.jsx)(h.k,{paddingLeft:3,children:(0,t.jsx)(j.O,{fontWeight:"bold",textColor:"neutral800",as:"h2",id:"title",children:m({id:P},{name:M})})})]})})}return A=[{label:M,info:{category:W?.category||null,name:W?.schema.displayName}}],d==="chooseAttribute"&&(C=["component","components"].includes(i)?"component":W.schema.kind),d==="addComponentToDynamicZone"&&(C="dynamiczone",A.push({label:l})),(d==="attribute"||d==="customField")&&(C=s,A.push({label:n})),d==="editCategory"&&(A=[{label:m({id:c("modalForm.header.categories"),defaultMessage:"Categories"})},{label:r}]),(0,t.jsx)(Xe.k,{children:(0,t.jsxs)(x.C,{gap:3,children:[g&&(0,t.jsx)(Pt.c,{"aria-label":m({id:c("modalForm.header.back"),defaultMessage:"Back"}),startIcon:(0,t.jsx)(Bt.c,{}),onClick:()=>S({forTarget:i,targetUid:u}),href:"#back",isExternal:!1}),(0,t.jsx)(qe,{type:C,customField:p}),(0,t.jsx)(aa.M,{label:A.map(({label:P})=>P).join(","),children:A.map(({label:P,info:B},J,ue)=>{if(P=$e(P),!P)return null;const be=`${P}.${J}`;return B?.category&&(P=`${P} (${$e(B.category)} - ${$e(B.name)})`),(0,t.jsx)(sa.i,{isCurrent:J===ue.length-1,children:P},be)})})]})})},ur=({modalType:e,forTarget:n,kind:s,actionType:r,step:o})=>{switch(e){case"chooseAttribute":return c(`modalForm.sub-header.chooseAttribute.${n?.includes("component")?"component":s||"collectionType"}`);case"attribute":return c(`modalForm.sub-header.attribute.${r}${o!=="null"&&o!==null&&r!=="edit"?".step":""}`);case"customField":return c(`modalForm.sub-header.attribute.${r}`);case"addComponentToDynamicZone":return c("modalForm.sub-header.addComponentToDynamicZone");default:return c("configurations")}},mr=({actionType:e,modalType:n,forTarget:s,kind:r,step:o,attributeType:l,attributeName:i,customField:d})=>{const{formatMessage:u}=(0,w.c)(),p=n==="customField"?d?.intlLabel:{id:c(`attribute.${l}`)};return(0,t.jsxs)(x.C,{direction:"column",alignItems:"flex-start",paddingBottom:2,gap:1,children:[(0,t.jsx)(j.O,{as:"h2",variant:"beta",children:u({id:ur({actionType:e,forTarget:s,kind:r,step:o,modalType:n}),defaultMessage:"Add new field"},{type:p?$e(u(p)):"",name:$e(i),step:o})}),(0,t.jsx)(j.O,{variant:"pi",textColor:"neutral600",children:u({id:c(`attribute.${l}.description`),defaultMessage:"A type for modeling data"})})]})},ht={alien:oa.c,apps:ra.c,archive:ia.c,arrowDown:la.c,arrowLeft:Bt.c,arrowRight:ca.c,arrowUp:da.c,attachment:ua.c,bell:ma.c,bold:pa.c,book:ga.c,briefcase:fa.c,brush:ha.c,bulletList:ya.c,calendar:va.c,car:xa.c,cast:ba.c,chartBubble:Ca.c,chartCircle:Ta.c,chartPie:Ma.c,check:ja.c,clock:Aa.c,cloud:Sa.c,code:Fa.c,cog:Na.c,collapse:Oa.c,command:La.c,connector:ka.c,crop:Ea.c,crown:Ia.c,cube:$a.c,cup:Da.c,cursor:Ra.c,dashboard:Pa.c,database:Ba.c,discuss:Ua.c,doctor:Za.c,earth:Wa.c,emotionHappy:za.c,emotionUnhappy:Va.c,envelop:Ga.c,exit:Qa.c,expand:Ha.c,eye:wa.c,feather:Ka.c,file:Ya.c,fileError:Xa.c,filePdf:Ja.c,filter:qa.c,folder:_a.c,gate:es.c,gift:ts.c,globe:ns.c,grid:as.c,handHeart:ss.c,hashtag:os.c,headphone:rs.c,heart:is.c,house:ls.c,information:cs.c,italic:ds.c,key:us.c,landscape:ms.c,layer:ps.c,layout:gs.c,lightbulb:fs.c,link:hs.c,lock:ys.c,magic:vs.c,manyToMany:Ut.c,manyToOne:Zt.c,manyWays:Wt.c,medium:xs.c,message:bs.c,microphone:Cs.c,monitor:Ts.c,moon:Ms.c,music:js.c,oneToMany:zt.c,oneToOne:Vt.c,oneWay:Gt.c,paint:As.c,paintBrush:Ss.c,paperPlane:Fs.c,pencil:Ns.c,phone:Os.c,picture:Ls.c,pin:ks.c,pinMap:Es.c,plane:Is.c,play:$s.c,plus:Be.c,priceTag:Ds.c,puzzle:Rs.c,question:Ps.c,quote:Bs.c,repeat:Us.c,restaurant:Zs.c,rocket:Ws.c,rotate:zs.c,scissors:Vs.c,search:Qt.c,seed:Gs.c,server:Qs.c,shield:Hs.c,shirt:ws.c,shoppingCart:Ks.c,slideshow:Ys.c,stack:Xs.c,star:Js.c,store:qs.c,strikeThrough:_s.c,sun:eo.c,television:to.c,thumbDown:no.c,thumbUp:ao.c,train:so.c,twitter:oo.c,typhoon:ro.c,underline:io.c,user:lo.c,volumeMute:co.c,volumeUp:uo.c,walk:mo.c,wheelchair:po.c,write:go.c},pr=(0,je.cp)(x.C)`
  label {
    ${(0,Ne.Ih)()}
    border-radius: ${({theme:e})=>e.borderRadius};
    border: 1px solid ${({theme:e})=>e.colors.neutral100};
  }
`,gr=({iconKey:e,name:n,onChange:s,isSelected:r,ariaLabel:o})=>(0,t.jsx)(st.I,{name:n,required:!1,children:(0,t.jsxs)(Dn.u,{htmlFor:e,id:`${e}-label`,children:[(0,t.jsxs)(Rn.K,{children:[(0,t.jsx)(Pn.e,{type:"radio",id:e,name:n,checked:r,onChange:s,value:e,"aria-checked":r,"aria-labelledby":`${e}-label`}),o]}),(0,t.jsx)(x.C,{padding:2,cursor:"pointer",hasRadius:!0,background:r?"primary200":void 0,children:(0,t.jsx)($.G,{as:ht[e],color:r?"primary600":"neutral300"})})]})}),fr=({intlLabel:e,name:n,onChange:s,value:r=""})=>{const{formatMessage:o}=(0,w.c)(),[l,i]=(0,f.useState)(!1),[d,u]=(0,f.useState)(""),p=Object.keys(ht),[g,m]=(0,f.useState)(p),E=(0,f.useRef)(null),S=(0,f.useRef)(null),C=()=>{i(!l)},A=({target:{value:L}})=>{u(L),m(()=>p.filter(P=>P.toLowerCase().includes(L.toLowerCase())))},W=()=>{C(),u(""),m(p)},M=()=>{s({target:{name:n,value:""}})};return(0,f.useEffect)(()=>{l&&S.current?.focus()},[l]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(x.C,{justifyContent:"space-between",paddingBottom:2,children:[(0,t.jsx)(j.O,{variant:"pi",fontWeight:"bold",textColor:"neutral800",as:"label",children:o(e)}),(0,t.jsxs)(x.C,{gap:1,children:[l?(0,t.jsx)(Bn.E,{ref:S,name:"searchbar",size:"S",placeholder:o({id:c("ComponentIconPicker.search.placeholder"),defaultMessage:"Search for an icon"}),onBlur:()=>{d||C()},onChange:A,value:d,onClear:W,clearLabel:o({id:c("IconPicker.search.clear.label"),defaultMessage:"Clear the icon search"}),children:o({id:c("IconPicker.search.placeholder.label"),defaultMessage:"Search for an icon"})}):(0,t.jsx)($t.w,{ref:E,onClick:C,"aria-label":o({id:c("IconPicker.search.button.label"),defaultMessage:"Search icon button"}),icon:(0,t.jsx)(Qt.c,{}),noBorder:!0}),r&&(0,t.jsx)(Un.o,{description:o({id:c("IconPicker.remove.tooltip"),defaultMessage:"Remove the selected icon"}),children:(0,t.jsx)($t.w,{onClick:M,"aria-label":o({id:c("IconPicker.remove.button"),defaultMessage:"Remove the selected icon button"}),icon:(0,t.jsx)(Io.c,{}),noBorder:!0})})]})]}),(0,t.jsx)(pr,{position:"relative",padding:1,background:"neutral100",hasRadius:!0,wrap:"wrap",gap:2,maxHeight:"126px",overflow:"auto",textAlign:"center",children:g.length>0?g.map(L=>(0,t.jsx)(gr,{iconKey:L,name:n,onChange:s,isSelected:L===r,ariaLabel:o({id:c("IconPicker.icon.label"),defaultMessage:"Select {icon} icon"},{icon:L})},L)):(0,t.jsx)(h.k,{padding:4,grow:2,children:(0,t.jsx)(j.O,{variant:"delta",textColor:"neutral600",textAlign:"center",children:o({id:c("IconPicker.emptyState.label"),defaultMessage:"No icon found"})})})})]})},hr=({description:e,error:n,intlLabel:s,modifiedData:r,name:o,onChange:l,value:i})=>{const{formatMessage:d}=(0,w.c)(),u=(0,f.useRef)(l),p=r?.displayName||"";(0,f.useEffect)(()=>{if(p){const S=(0,b.n)(p);try{const C=it(S,2);u.current({target:{name:o,value:C}})}catch{u.current({target:{name:o,value:S}})}}else u.current({target:{name:o,value:""}})},[p,o]);const g=n?d({id:n,defaultMessage:n}):"",m=e?d({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",E=d(s);return(0,t.jsx)(xe.g,{error:g,label:E,id:o,hint:m,name:o,onChange:l,value:i||""})},yr=({oneThatIsCreatingARelationWithAnother:e,target:n})=>{const{contentTypes:s,sortedContentTypesList:r}=De(),o=(0,Ge.OY)(),l=r.filter(an),{plugin:i=null,schema:{displayName:d}={displayName:"error"}}=s?.[n]??{},u=({uid:p,plugin:g,title:m,restrictRelationsTo:E})=>()=>{const S=g?`${g}_${m}`:m;o({type:b.O,target:{value:p,oneThatIsCreatingARelationWithAnother:e,selectedContentTypeFriendlyName:S,targetContentTypeAllowedRelations:E}})};return(0,t.jsxs)(ot.Ss,{children:[(0,t.jsx)(vr,{children:`${d} ${i?`(from: ${i})`:""}`}),(0,t.jsx)(ot.kP,{zIndex:5,children:l.map(({uid:p,title:g,restrictRelationsTo:m,plugin:E})=>(0,t.jsxs)(ot.iY,{onSelect:u({uid:p,plugin:E,title:g,restrictRelationsTo:m}),children:[g,"\xA0",E&&(0,t.jsxs)(t.Fragment,{children:["(from: ",E,")"]})]},p))})]})},vr=(0,je.cp)(ot.mf)`
  svg {
    width: ${6/16}rem;
    height: ${4/16}rem;
  }
`,rn=({disabled:e=!1,error:n,header:s,isMain:r=!1,name:o,onChange:l,oneThatIsCreatingARelationWithAnother:i="",target:d="",value:u=""})=>(0,t.jsxs)(h.k,{background:"neutral100",hasRadius:!0,borderColor:"neutral200",children:[(0,t.jsx)(x.C,{paddingTop:r?4:1,paddingBottom:r?3:1,justifyContent:"center",children:r?(0,t.jsx)(j.O,{variant:"pi",fontWeight:"bold",textColor:"neutral800",children:s}):(0,t.jsx)(yr,{target:d,oneThatIsCreatingARelationWithAnother:i})}),(0,t.jsx)(te.c,{background:"neutral200"}),(0,t.jsx)(h.k,{padding:4,children:(0,t.jsx)(F.u,{disabled:e,error:n?.id||null,intlLabel:{id:c("form.attribute.item.defineRelation.fieldName"),defaultMessage:"Field name"},name:o,onChange:l,type:"text",value:u})})]}),xr=(0,je.cp)(h.k)`
  position: relative;
  width: 100%;
  &::before {
    content: '';
    position: absolute;
    top: calc(50% - 0px);
    height: 2px;
    width: 100%;
    background-color: ${({theme:e})=>e.colors.primary600};
    z-index: 0;
  }
`,br=(0,je.cp)(h.k)`
  background: ${({theme:e,isSelected:n})=>e.colors[n?"primary100":"neutral0"]};
  border: 1px solid
    ${({theme:e,isSelected:n})=>e.colors[n?"primary700":"neutral200"]};
  border-radius: ${({theme:e})=>e.borderRadius};
  z-index: 1;
  svg {
    width: 1.5rem;
    height: 100%;
    path {
      fill: ${({theme:e,isSelected:n})=>e.colors[n?"primary700":"neutral500"]};
    }
  }
  &:disabled {
    cursor: not-allowed;
  }
`,Cr=(0,je.cp)(x.C)`
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
`,Tr={oneWay:Gt.c,oneToOne:Vt.c,oneToMany:zt.c,manyToOne:Zt.c,manyToMany:Ut.c,manyWay:Wt.c},Mr=({naturePickerType:e,oneThatIsCreatingARelationWithAnother:n,relationType:s,target:r})=>{const o=(0,Ge.OY)(),{formatMessage:l}=(0,w.c)(),{contentTypes:i,modifiedData:d}=De(),u=["oneWay","oneToOne","oneToMany","manyToOne","manyToMany","manyWay"],p=["oneWay","manyWay"],m=(e==="contentType"?I(d,[e,"schema","kind"],""):e)==="collectionType"?u:p,E=s==="manyToOne",S=I(i,[r,"schema","displayName"],"unknown"),C=E?S:n,A=E?n:S,W=it(C,s==="manyToMany"?2:1),M=I(i,[r,"schema","restrictRelationsTo"],null),L=it(A,["manyToMany","oneToMany","manyToOne","manyWay"].includes(s)?2:1);return s?(0,t.jsxs)(x.C,{style:{flex:1},children:[(0,t.jsx)(xr,{children:(0,t.jsx)(x.C,{paddingLeft:9,paddingRight:9,paddingTop:1,justifyContent:"center",children:(0,t.jsx)(Z.a,{tagName:"button",children:(0,t.jsx)(x.C,{gap:3,children:m.map(P=>{const B=Tr[P],J=M===null||M.includes(P);return(0,t.jsx)(br,{as:"button",isSelected:s===P,disabled:!J,onClick:()=>{J&&o({type:b.a,target:{oneThatIsCreatingARelationWithAnother:n,targetContentType:r,value:P}})},padding:2,type:"button",children:(0,t.jsx)(B,{},P)},P)})})})})}),(0,t.jsxs)(Cr,{justifyContent:"center",children:[(0,t.jsxs)(j.O,{children:[qt(W,{length:24}),"\xA0"]}),(0,t.jsxs)(j.O,{textColor:"primary600",children:[l({id:c(`relation.${s}`)}),"\xA0"]}),(0,t.jsx)(j.O,{children:qt(L,{length:24})})]})]}):null},jr=({formErrors:e,mainBoxHeader:n,modifiedData:s,naturePickerType:r,onChange:o})=>{const l=(0,b.g)(s.relation,s.targetAttribute);return(0,t.jsxs)(x.C,{style:{position:"relative"},children:[(0,t.jsx)(rn,{isMain:!0,header:n,error:e?.name||null,name:"name",onChange:o,value:s?.name||""}),(0,t.jsx)(Mr,{naturePickerType:r,oneThatIsCreatingARelationWithAnother:n,relationType:l,target:s.target}),(0,t.jsx)(rn,{disabled:["oneWay","manyWay"].includes(l),error:e?.targetAttribute||null,name:"targetAttribute",onChange:o,oneThatIsCreatingARelationWithAnother:n,target:s.target,value:s?.targetAttribute||""})]})},Ar=({error:e=null,intlLabel:n,name:s,onChange:r,value:o=void 0})=>{const{formatMessage:l}=(0,w.c)(),{allComponentsCategories:i}=De(),[d,u]=(0,f.useState)(i),p=e?l({id:e,defaultMessage:e}):"",g=l(n),m=S=>{r({target:{name:s,value:S,type:"select-category"}})},E=S=>{u(C=>[...C,S]),m(S)};return(0,t.jsx)(Zn.cT,{error:p,id:s,label:g,name:s,onChange:m,onCreateOption:E,value:o,children:d.map(S=>(0,t.jsx)(Wn.m,{value:S,children:S},S))})},Sr=({error:e=null,intlLabel:n,isAddingAComponentToAnotherComponent:s,isCreating:r,isCreatingComponentWhileAddingAField:o,componentToCreate:l,name:i,onChange:d,targetUid:u,forTarget:p,value:g})=>{const{formatMessage:m}=(0,w.c)(),E=e?m({id:e,defaultMessage:e}):"",S=m(n),{componentsGroupedByCategory:C,componentsThatHaveOtherComponentInTheirAttributes:A}=De(),W=["component","components"].includes(p);let M=Object.entries(C).reduce((L,P)=>{const[B,J]=P,ue=J.map(be=>({uid:be.uid,label:be.schema.displayName,categoryName:B}));return[...L,...ue]},[]);return s&&(M=M.filter(L=>!A.includes(L.uid))),W&&(M=M.filter(L=>L.uid!==u)),o&&(M=[{uid:g,label:l?.displayName,categoryName:l?.category}]),(0,t.jsx)(ne.M,{disabled:o||!r,error:E,label:S,id:i,name:i,onChange:L=>{d({target:{name:i,value:L,type:"select-category"}})},value:g||"",children:M.map(L=>(0,t.jsx)(Fe.c,{value:L.uid,children:`${L.categoryName} - ${L.label}`},L.uid))})},Fr=({dynamicZoneTarget:e,intlLabel:n,name:s,onChange:r,value:o})=>{const{formatMessage:l}=(0,w.c)(),{componentsGroupedByCategory:i,modifiedData:d}=De(),p=gt(d.contentType.schema.attributes,e)?.components||[],g=Object.keys(i).reduce((S,C)=>{const A=i[C].filter(({uid:W})=>!p.includes(W));return A.length>0&&(S[C]=A),S},{}),m=Object.entries(g).reduce((S,C)=>{const[A,W]=C,M={label:A,children:W.map(({uid:L,schema:{displayName:P}})=>({label:P,value:L}))};return S.push(M),S},[]),E=l({id:c("components.SelectComponents.displayed-value"),defaultMessage:"{number, plural, =0 {# components} one {# component} other {# components}} selected"},{number:o?.length??0});return(0,t.jsx)(D.U,{id:"select1",label:l(n),customizeContent:()=>E,name:s,onChange:S=>{r({target:{name:s,value:S,type:"select-components"}})},options:m,value:o||[]})},Nr=({intlLabel:e,error:n=void 0,modifiedData:s,name:r,onChange:o,options:l,value:i=""})=>{const{formatMessage:d}=(0,w.c)(),u=d(e),p=n?d({id:n,defaultMessage:n}):"",g=m=>{o({target:{name:r,value:m,type:"select"}}),i&&s.default!==void 0&&s.default!==null&&o({target:{name:"default",value:null}})};return(0,t.jsx)(ne.M,{error:p,label:u,id:r,name:r,onChange:g,value:i||"",children:l.map(({metadatas:{intlLabel:m,disabled:E,hidden:S},key:C,value:A})=>(0,t.jsx)(Fe.c,{value:A,disabled:E,hidden:S,children:d({id:m.id,defaultMessage:m.defaultMessage},m.values)},C))})},ln=({intlLabel:e,error:n=void 0,modifiedData:s,name:r,onChange:o,options:l,value:i=""})=>{const{formatMessage:d}=(0,w.c)(),u=d(e),p=n?d({id:n,defaultMessage:n}):"",g=m=>{o({target:{name:r,value:m,type:"select"}}),i&&(m==="biginteger"&&i!=="biginteger"&&(s.default!==void 0&&s.default!==null&&o({target:{name:"default",value:null}}),s.max!==void 0&&s.max!==null&&o({target:{name:"max",value:null}}),s.min!==void 0&&s.min!==null&&o({target:{name:"min",value:null}})),typeof m=="string"&&["decimal","float","integer"].includes(m)&&i==="biginteger"&&(s.default!==void 0&&s.default!==null&&o({target:{name:"default",value:null}}),s.max!==void 0&&s.max!==null&&o({target:{name:"max",value:null}}),s.min!==void 0&&s.min!==null&&o({target:{name:"min",value:null}})))};return(0,t.jsx)(ne.M,{error:p,label:u,id:r,name:r,onChange:g,value:i||"",children:l.map(({metadatas:{intlLabel:m,disabled:E,hidden:S},key:C,value:A})=>(0,t.jsx)(Fe.c,{value:A,disabled:E,hidden:S,children:d(m)},C))})};ln.defaultProps={error:void 0,value:""};const Or=({description:e=null,error:n=null,intlLabel:s,modifiedData:r,name:o,onChange:l,value:i=null})=>{const{formatMessage:d}=(0,w.c)(),u=(0,f.useRef)(l),p=r?.displayName||"";(0,f.useEffect)(()=>{p?u.current({target:{name:o,value:(0,b.n)(p)}}):u.current({target:{name:o,value:""}})},[p,o]);const g=n?d({id:n,defaultMessage:n}):"",m=e?d({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",E=d(s);return(0,t.jsx)(xe.g,{error:g,label:E,id:o,hint:m,name:o,onChange:l,value:i||""})},cn=({form:e,formErrors:n,genericInputProps:s,modifiedData:r,onChange:o})=>{const{formatMessage:l}=(0,w.c)();return(0,t.jsx)(t.Fragment,{children:e.map((i,d)=>i.items.length===0?null:(0,t.jsxs)(h.k,{children:[i.sectionTitle&&(0,t.jsx)(h.k,{paddingBottom:4,children:(0,t.jsx)(j.O,{variant:"delta",as:"h3",children:l(i.sectionTitle)})}),(0,t.jsx)(X.y,{gap:4,children:i.items.map((u,p)=>{const g=`${d}.${p}`,m=I(r,u.name,void 0),E=Object.keys(n).find(C=>C===u.name),S=E?n[E].id:I(n,[...u.name.split(".").filter(C=>C!=="componentToCreate"),"id"],null);return u.type==="pushRight"?(0,t.jsx)(_.C,{col:u.size||6,children:(0,t.jsx)("div",{})},u.name||g):(0,t.jsx)(_.C,{col:u.size||6,children:(0,t.jsx)(F.u,{...u,...s,error:S,onChange:o,value:m})},u.name||g)})})]},d))})},Lr=({description:e=null,disabled:n=!1,error:s="",intlLabel:r,labelAction:o,name:l,onChange:i,placeholder:d=null,value:u=""})=>{const{formatMessage:p}=(0,w.c)(),g=s?p({id:s,defaultMessage:s}):"",m=e?p({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",E=p(r),S=d?p({id:d.id,defaultMessage:d.defaultMessage},{...d.values}):"",C=Array.isArray(u)?u.join(`
`):"",A=W=>{const M=W.target.value.split(`
`);i({target:{name:l,value:M}})};return(0,t.jsx)(zn.A,{disabled:n,error:g,label:E,labelAction:o,id:l,hint:m,name:l,onChange:A,placeholder:S,value:C,children:C})},Ee={name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:c("modalForm.attribute.form.base.name.description"),defaultMessage:"No space is allowed for the name of the attribute"}},kr={sections:[{sectionTitle:null,items:[Ee]}]},He={base(e=""){return[{sectionTitle:null,items:[{name:`${e}displayName`,type:"text",intlLabel:{id:c("contentType.displayName.label"),defaultMessage:"Display Name"}},{name:`${e}category`,type:"select-category",intlLabel:{id:c("modalForm.components.create-component.category.label"),defaultMessage:"Select a category or enter a name to create a new one"}}]},{sectionTitle:null,items:[{name:`${e}icon`,type:"icon-picker",size:12,intlLabel:{id:c("modalForm.components.icon.label"),defaultMessage:"Icon"}}]}]},advanced(){return[]}},O={default:{name:"default",type:"text",intlLabel:{id:c("form.attribute.settings.default"),defaultMessage:"Default value"}},max:{name:"max",type:"checkbox-with-number-field",intlLabel:{id:c("form.attribute.item.maximum"),defaultMessage:"Maximum value"}},maxLength:{name:"maxLength",type:"checkbox-with-number-field",intlLabel:{id:c("form.attribute.item.maximumLength"),defaultMessage:"Maximum length"}},min:{name:"min",type:"checkbox-with-number-field",intlLabel:{id:c("form.attribute.item.minimum"),defaultMessage:"Minimum value"}},minLength:{name:"minLength",type:"checkbox-with-number-field",intlLabel:{id:c("form.attribute.item.minimumLength"),defaultMessage:"Minimum length"}},private:{name:"private",type:"checkbox",intlLabel:{id:c("form.attribute.item.privateField"),defaultMessage:"Private field"},description:{id:c("form.attribute.item.privateField.description"),defaultMessage:"This field will not show up in the API response"}},regex:{intlLabel:{id:c("form.attribute.item.text.regex"),defaultMessage:"RegExp pattern"},name:"regex",type:"text",description:{id:c("form.attribute.item.text.regex.description"),defaultMessage:"The text of the regular expression"}},required:{name:"required",type:"checkbox",intlLabel:{id:c("form.attribute.item.requiredField"),defaultMessage:"Required field"},description:{id:c("form.attribute.item.requiredField.description"),defaultMessage:"You won't be able to create an entry if this field is empty"}},unique:{name:"unique",type:"checkbox",intlLabel:{id:c("form.attribute.item.uniqueField"),defaultMessage:"Unique field"},description:{id:c("form.attribute.item.uniqueField.description"),defaultMessage:"You won't be able to create an entry if there is an existing entry with identical content"}}},Er={blocks(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[O.required,O.private]}]}},boolean(){return{sections:[{sectionTitle:null,items:[{autoFocus:!0,type:"select-default-boolean",intlLabel:{id:c("form.attribute.settings.default"),defaultMessage:"Default value"},name:"default",options:[{value:"true",key:"true",metadatas:{intlLabel:{id:"true",defaultMessage:"true"}}},{value:"",key:"null",metadatas:{intlLabel:{id:"null",defaultMessage:"null"}}},{value:"false",key:"false",metadatas:{intlLabel:{id:"false",defaultMessage:"false"}}}]}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[O.required,O.private]}]}},component({repeatable:e},n){return n==="1"?{sections:He.advanced()}:e?{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[O.required,O.private,O.max,O.min]}]}:{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[O.required,O.private]}]}},date({type:e}){return{sections:[{sectionTitle:null,items:[{...O.default,type:e||"date",value:null,withDefaultValue:!1,disabled:!e,autoFocus:!1}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[O.required,O.unique,O.private]}]}},dynamiczone(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[O.required,O.max,O.min]}]}},email(){return{sections:[{sectionTitle:null,items:[{...O.default,type:"email"}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[O.required,O.unique,O.maxLength,O.minLength,O.private]}]}},enumeration(e){return{sections:[{sectionTitle:null,items:[{name:"default",type:"select",intlLabel:{id:c("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{},options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"}}},...(e.enum||[]).filter((n,s)=>e.enum.indexOf(n)===s&&n).map(n=>({key:n,value:n,metadatas:{intlLabel:{id:`${n}.no-override`,defaultMessage:n}}}))]},{intlLabel:{id:c("form.attribute.item.enumeration.graphql"),defaultMessage:"Name override for GraphQL"},name:"enumName",type:"text",validations:{},description:{id:c("form.attribute.item.enumeration.graphql.description"),defaultMessage:"Allows you to override the default generated name for GraphQL"}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[O.required,O.private]}]}},json(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[O.required,O.private]}]}},media(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:c("form.attribute.media.allowed-types"),defaultMessage:"Select allowed types of media"},name:"allowedTypes",type:"allowed-types-select",size:7,value:"",validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[O.required,O.private]}]}},number(e){const n=e.type==="decimal"||e.type==="float"?"any":1;return{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"default",type:e.type==="biginteger"?"text":"number",step:n,intlLabel:{id:c("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[O.required,O.unique,O.max,O.min,O.private]}]}},password(){return{sections:[{sectionTitle:null,items:[O.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[O.required,O.maxLength,O.minLength,O.private]}]}},relation(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[O.private]}]}},richtext(){return{sections:[{sectionTitle:null,items:[O.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[O.required,O.maxLength,O.minLength,O.private]}]}},text(){return{sections:[{sectionTitle:null,items:[O.default,O.regex]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[O.required,O.unique,O.maxLength,O.minLength,O.private]}]}},uid(e){return{sections:[{sectionTitle:null,items:[{...O.default,disabled:Boolean(e.targetField),type:"text"}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[O.required,O.maxLength,O.minLength,O.private]}]}}},yt={intlLabel:{id:"global.type",defaultMessage:"Type"},name:"createComponent",type:"boolean-radio-group",size:12,radios:[{title:{id:c("form.attribute.component.option.create"),defaultMessage:"Create a new component"},description:{id:c("form.attribute.component.option.create.description"),defaultMessage:"A component is shared across types and components, it will be available and accessible everywhere."},value:!0},{title:{id:c("form.attribute.component.option.reuse-existing"),defaultMessage:"Use an existing component"},description:{id:c("form.attribute.component.option.reuse-existing.description"),defaultMessage:"Reuse a component already created to keep your data consistent across content-types."},value:!1}]},dn={advanced:Er,base:{component(e,n){if(n==="1"){const s=e.createComponent===!0?He.base("componentToCreate."):[];return{sections:[{sectionTitle:null,items:[yt]},...s]}}return{sections:[{sectionTitle:null,items:[Ee,{name:"component",type:"select-component",intlLabel:{id:c("modalForm.attributes.select-component"),defaultMessage:"Select a component"},isMultiple:!1}]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"repeatable",type:"boolean-radio-group",size:12,radios:[{title:{id:c("form.attribute.component.option.repeatable"),defaultMessage:"Repeatable component"},description:{id:c("form.attribute.component.option.repeatable.description"),defaultMessage:"Best for multiple instances (array) of ingredients, meta tags, etc.."},value:!0},{title:{id:c("form.attribute.component.option.single"),defaultMessage:"Single component"},description:{id:c("form.attribute.component.option.single.description"),defaultMessage:"Best for grouping fields like full address, main information, etc..."},value:!1}]}]}]}},date(){return{sections:[{sectionTitle:null,items:[Ee,{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",type:"select-date",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"date",value:"date",metadatas:{intlLabel:{id:c("form.attribute.item.date.type.date"),defaultMessage:"date (ex: 01/01/{currentYear})",values:{currentYear:new Date().getFullYear()}}}},{key:"datetime",value:"datetime",metadatas:{intlLabel:{id:c("form.attribute.item.date.type.datetime"),defaultMessage:"datetime (ex: 01/01/{currentYear} 00:00 AM)",values:{currentYear:new Date().getFullYear()}}}},{key:"time",value:"time",metadatas:{intlLabel:{id:c("form.attribute.item.date.type.time"),defaultMessage:"time (ex: 00:00 AM)"}}}]}]}]}},enumeration(){return{sections:[{sectionTitle:null,items:[Ee]},{sectionTitle:null,items:[{name:"enum",type:"textarea-enum",size:6,intlLabel:{id:c("form.attribute.item.enumeration.rules"),defaultMessage:"Values (one line per value)"},placeholder:{id:c("form.attribute.item.enumeration.placeholder"),defaultMessage:`Ex:
morning
noon
evening`},validations:{required:!0}}]}]}},media(){return{sections:[{sectionTitle:null,items:[Ee]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"multiple",size:12,type:"boolean-radio-group",radios:[{title:{id:c("form.attribute.media.option.multiple"),defaultMessage:"Multiple media"},description:{id:c("form.attribute.media.option.multiple.description"),defaultMessage:"Best for sliders, carousels or multiple files download"},value:!0},{title:{id:c("form.attribute.media.option.single"),defaultMessage:"Single media"},description:{id:c("form.attribute.media.option.single.description"),defaultMessage:"Best for avatar, profile picture or cover"},value:!1}]}]}]}},number(){return{sections:[{sectionTitle:null,items:[Ee,{intlLabel:{id:c("form.attribute.item.number.type"),defaultMessage:"Number format"},name:"type",type:"select-number",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"integer",value:"integer",metadatas:{intlLabel:{id:c("form.attribute.item.number.type.integer"),defaultMessage:"integer (ex: 10)"}}},{key:"biginteger",value:"biginteger",metadatas:{intlLabel:{id:c("form.attribute.item.number.type.biginteger"),defaultMessage:"biginteger (ex: 123456789)"}}},{key:"decimal",value:"decimal",metadatas:{intlLabel:{id:c("form.attribute.item.number.type.decimal"),defaultMessage:"decimal (ex: 2.22)"}}},{key:"float",value:"float",metadatas:{intlLabel:{id:c("form.attribute.item.number.type.float"),defaultMessage:"decimal (ex: 3.3333333)"}}}]}]}]}},relation(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:"FIXME",defaultMessage:"FIXME"},name:"relation",size:12,type:"relation"}]}]}},string(){return{sections:[{sectionTitle:null,items:[Ee]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:c("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:c("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:c("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:c("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},text(){return{sections:[{sectionTitle:null,items:[Ee]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:c("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:c("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:c("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:c("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},uid(e,n,s){const r=s.filter(({type:o})=>["string","text"].includes(o)).map(({name:o})=>({key:o,value:o,metadatas:{intlLabel:{id:`${o}.no-override`,defaultMessage:o}}}));return{sections:[{sectionTitle:null,items:[{...Ee,placeholder:{id:c("modalForm.attribute.form.base.name.placeholder"),defaultMessage:"e.g. slug, seoUrl, canonicalUrl"}},{intlLabel:{id:c("modalForm.attribute.target-field"),defaultMessage:"Attached field"},name:"targetField",type:"select",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"global.none",defaultMessage:"None"}}},...r]}]}]}}}},vt=e=>e?Uo(e,{decamelize:!1,lowercase:!1,separator:"_"}):"",un=/^[A-Za-z][_0-9A-Za-z]*$/,mn=e=>({name:"attributeNameAlreadyUsed",message:F.aO.unique,test(n){if(!n)return!1;const s=(0,G.snakeCase)(n);return!e.some(r=>r===n?!1:(0,G.snakeCase)(r)===s)}}),xt=e=>({name:"forbiddenAttributeName",message:c("error.attributeName.reserved-name"),test(n){if(!n)return!1;const s=(0,G.snakeCase)(n);return!e.some(r=>(0,G.snakeCase)(r)===s)}}),v={default:()=>T.Qb().nullable(),max:()=>T.CQ().integer().nullable(),min:()=>T.CQ().integer().when("max",(e,n)=>e?n.max(e,c("error.validation.minSupMax")):n).nullable(),maxLength:()=>T.CQ().integer().positive(c("error.validation.positive")).nullable(),minLength:()=>T.CQ().integer().min(0).when("maxLength",(e,n)=>e?n.max(e,c("error.validation.minSupMax")):n).nullable(),name(e,n){return T.Qb().test(mn(e)).test(xt(n)).matches(un,F.aO.regex).required(F.aO.required)},required:()=>T.cT(),type:()=>T.Qb().required(F.aO.required),unique:()=>T.cT().nullable()},bt=(e,n)=>({name:v.name(e,n),type:v.type(),default:v.default(),unique:v.unique(),required:v.required(),maxLength:v.maxLength(),minLength:v.minLength(),regex:T.Qb().test({name:"isValidRegExpPattern",message:c("error.validation.regex"),test(r){return new RegExp(r||"")!==null}}).nullable()}),Ct=()=>({name:"isMinSuperiorThanMax",message:c("error.validation.minSupMax"),test(e){if(!e)return!0;const{max:n}=this.parent;return!n||Number.isNaN(pt(e))?!0:pt(n)>=pt(e)}}),_e={date(e,n){const s={name:v.name(e,n),type:v.type()};return T.kt(s)},datetime(e,n){const s={name:v.name(e,n),type:v.type()};return T.kt(s)},time(e,n){const s={name:v.name(e,n),type:v.type()};return T.kt(s)},default(e,n){const s={name:v.name(e,n),type:v.type()};return T.kt(s)},biginteger(e,n){const s={name:v.name(e,n),type:v.type(),default:T.Qb().nullable().matches(/^-?\d*$/),unique:v.unique(),required:v.required(),max:T.Qb().nullable().matches(/^-?\d*$/,F.aO.regex),min:T.Qb().nullable().test(Ct()).matches(/^-?\d*$/,F.aO.regex)};return T.kt(s)},boolean(e,n){const s={name:v.name(e,n),default:T.cT().nullable(),required:v.required(),unique:v.unique()};return T.kt(s)},component(e,n){const s={name:v.name(e,n),type:v.type(),required:v.required(),max:v.max(),min:v.min(),component:T.Qb().required(F.aO.required)};return T.kt(s)},decimal(e,n){const s={name:v.name(e,n),type:v.type(),default:T.CQ(),required:v.required(),max:T.CQ(),min:T.CQ().test(Ct())};return T.kt(s)},dynamiczone(e,n){const s={name:v.name(e,n),type:v.type(),required:v.required(),max:v.max(),min:v.min()};return T.kt(s)},email(e,n){const s={name:v.name(e,n),type:v.type(),default:T.Qb().email().nullable(),unique:v.unique(),required:v.required(),maxLength:v.maxLength(),minLength:v.minLength()};return T.kt(s)},enumeration(e,n){const s=/^[_A-Za-z][_0-9A-Za-z]*$/,r={name:T.Qb().test(mn(e)).test(xt(n)).matches(s,F.aO.regex).required(F.aO.required),type:v.type(),default:v.default(),unique:v.unique(),required:v.required(),enum:T.M$().of(T.Qb()).min(1,F.aO.min).test({name:"areEnumValuesUnique",message:c("error.validation.enum-duplicate"),test(o){return o?!Bo(o.map(vt).filter((i,d,u)=>u.indexOf(i)!==d)).length:!1}}).test({name:"doesNotHaveEmptyValues",message:c("error.validation.enum-empty-string"),test:o=>o?!o.map(vt).some(l=>l===""):!1}).test({name:"doesMatchRegex",message:c("error.validation.enum-regex"),test:o=>o?o.map(vt).every(l=>s.test(l)):!1}),enumName:T.Qb().nullable()};return T.kt(r)},float(e,n){const s={name:v.name(e,n),type:v.type(),required:v.required(),default:T.CQ(),max:T.CQ(),min:T.CQ().test(Ct())};return T.kt(s)},integer(e,n){const s={name:v.name(e,n),type:v.type(),default:T.CQ().integer(),unique:v.unique(),required:v.required(),max:v.max(),min:v.min()};return T.kt(s)},json(e,n){const s={name:v.name(e,n),type:v.type(),required:v.required(),unique:v.unique()};return T.kt(s)},media(e,n){const s={name:v.name(e,n),type:v.type(),multiple:T.cT(),required:v.required(),allowedTypes:T.M$().of(T.Qb().oneOf(["images","videos","files","audios"])).min(1).nullable()};return T.kt(s)},password(e,n){const s={name:v.name(e,n),type:v.type(),default:v.default(),unique:v.unique(),required:v.required(),maxLength:v.maxLength(),minLength:v.minLength()};return T.kt(s)},relation(e,n,s,{initialData:r,modifiedData:o}){const l={name:v.name(e,n),target:T.Qb().required(F.aO.required),relation:T.Qb().required(),type:T.Qb().required(),targetAttribute:T.Wk(()=>{const i=(0,b.g)(o.relation,o.targetAttribute);if(i==="oneWay"||i==="manyWay")return T.Qb().nullable();const d=T.Qb().test(xt(n)),p=[...s.map(({name:g})=>g),o.name].filter(g=>g!==r.targetAttribute);return d.matches(un,F.aO.regex).test({name:"forbiddenTargetAttributeName",message:c("error.validation.relation.targetAttribute-taken"),test(g){return g?!p.includes(g):!1}}).required(F.aO.required)})};return T.kt(l)},richtext(e,n){const s={name:v.name(e,n),type:v.type(),default:v.default(),unique:v.unique(),required:v.required(),maxLength:v.maxLength(),minLength:v.minLength()};return T.kt(s)},blocks(e,n){const s={name:v.name(e,n),type:v.type(),default:v.default(),unique:v.unique(),required:v.required(),maxLength:v.maxLength(),minLength:v.minLength()};return T.kt(s)},string(e,n){const s=bt(e,n);return T.kt(s)},text(e,n){const s=bt(e,n);return T.kt(s)},uid(e,n){const s=bt(e,n);return T.kt(s)}},pn=/^[A-Za-z][-_0-9A-Za-z]*$/,Ir=e=>{const n={name:T.Qb().matches(pn,F.aO.regex).test({name:"nameNotAllowed",message:F.aO.unique,test(s){return s?!e.includes(s?.toLowerCase()):!1}}).required(F.aO.required)};return T.kt(n)},$r={base:{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:c("modalForm.editCategory.base.name.description"),defaultMessage:"No space is allowed for the name of the category"}}]}]}},Dr=(e,n,s,r,o)=>{const l={displayName:T.Qb().test({name:"nameAlreadyUsed",message:F.aO.unique,test(i){if(!i)return!1;const d=(0,b.c)(i,s),u=(0,G.snakeCase)(d),p=(0,G.snakeCase)(o);return e.every(g=>(0,G.snakeCase)(g)!==u)&&r.every(g=>(0,G.snakeCase)(g)!==p)}}).test({name:"nameNotAllowed",message:c("error.contentTypeName.reserved-name"),test(i){if(!i)return!1;const d=(0,G.snakeCase)(i);return n.every(u=>(0,G.snakeCase)(u)!==d)}}).required(F.aO.required),category:T.Qb().matches(pn,F.aO.regex).required(F.aO.required),icon:T.Qb()};return T.kt(l)},gn={name:"displayName",type:"text",intlLabel:{id:c("contentType.displayName.label"),defaultMessage:"Display name"}},Tt={advanced:{default(){return{sections:[{items:[{intlLabel:{id:c("contentType.draftAndPublish.label"),defaultMessage:"Draft & publish"},description:{id:c("contentType.draftAndPublish.description"),defaultMessage:"Allows writing a draft version of an entry, before it is published"},name:"draftAndPublish",type:"toggle-draft-publish",validations:{}}]}]}}},base:{create(){return{sections:[{sectionTitle:null,items:[gn,{description:{id:c("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:c("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text-singular"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{description:{id:c("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:c("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text-plural"}]}]}},edit(){return{sections:[{sectionTitle:null,items:[gn,{disabled:!0,description:{id:c("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:c("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{disabled:!0,description:{id:c("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:c("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text"},{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"kind",type:"content-type-radio-group",size:12,radios:[{title:{id:c("form.button.collection-type.name"),defaultMessage:"Collection Type"},description:{id:c("form.button.collection-type.description"),defaultMessage:"Best for multiple instances like articles, products, comments, etc."},value:"collectionType"},{title:{id:c("form.button.single-type.name"),defaultMessage:"Single Type"},description:{id:c("form.button.single-type.description"),defaultMessage:"Best for single instance like about us, homepage, etc."},value:"singleType"}]}]}]}}}},Rr=({usedContentTypeNames:e=[],reservedModels:n=[],singularNames:s=[],pluralNames:r=[],collectionNames:o=[]})=>{const l={displayName:T.Qb().test({name:"nameAlreadyUsed",message:F.aO.unique,test(i){if(!i)return!1;const d=(0,b.b)(i),u=(0,G.snakeCase)(d);return!e.some(p=>(0,G.snakeCase)(p)===u)}}).test({name:"nameNotAllowed",message:c("error.contentTypeName.reserved-name"),test(i){if(!i)return!1;const d=(0,G.snakeCase)(i);return!n.some(u=>(0,G.snakeCase)(u)===d)}}).required(F.aO.required),pluralName:T.Qb().test({name:"pluralNameAlreadyUsed",message:F.aO.unique,test(i){if(!i)return!1;const d=(0,G.snakeCase)(i);return!r.some(u=>(0,G.snakeCase)(u)===d)}}).test({name:"pluralNameAlreadyUsedAsSingular",message:c("error.contentType.pluralName-equals-singularName"),test(i){if(!i)return!1;const d=(0,G.snakeCase)(i);return!s.some(u=>(0,G.snakeCase)(u)===d)}}).test({name:"pluralAndSingularAreUnique",message:c("error.contentType.pluralName-used"),test(i,d){return i?(0,G.snakeCase)(d.parent.singularName)!==(0,G.snakeCase)(i):!1}}).test({name:"pluralNameNotAllowed",message:c("error.contentTypeName.reserved-name"),test(i){if(!i)return!1;const d=(0,G.snakeCase)(i);return!n.some(u=>(0,G.snakeCase)(u)===d)}}).test({name:"pluralNameNotAlreadyUsedInCollectionName",message:c("error.contentType.pluralName-equals-collectionName"),test(i){if(!i)return!1;const d=(0,G.snakeCase)(i);return!o.some(u=>(0,G.snakeCase)(u)===d)}}).required(F.aO.required),singularName:T.Qb().test({name:"singularNameAlreadyUsed",message:F.aO.unique,test(i){if(!i)return!1;const d=(0,G.snakeCase)(i);return!s.some(u=>(0,G.snakeCase)(u)===d)}}).test({name:"singularNameAlreadyUsedAsPlural",message:c("error.contentType.singularName-equals-pluralName"),test(i){if(!i)return!1;const d=(0,G.snakeCase)(i);return!r.some(u=>(0,G.snakeCase)(u)===d)}}).test({name:"pluralAndSingularAreUnique",message:c("error.contentType.singularName-used"),test(i,d){return i?(0,G.snakeCase)(d.parent.pluralName)!==(0,G.snakeCase)(i):!1}}).test({name:"singularNameNotAllowed",message:c("error.contentTypeName.reserved-name"),test(i){if(!i)return!1;const d=(0,G.snakeCase)(i);return!n.some(u=>(0,G.snakeCase)(u)===d)}}).required(F.aO.required),draftAndPublish:T.cT(),kind:T.Qb().oneOf(["singleType","collectionType"]),reviewWorkflows:T.cT()};return T.kt(l)},Mt={advanced:{default(){return{sections:He.advanced()}}},base:{createComponent(){return{sections:[{sectionTitle:null,items:[yt]},...He.base("componentToCreate.")]}},default(){return{sections:[{sectionTitle:null,items:[yt]},{sectionTitle:null,items:[{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{name:"components",type:"select-components",intlLabel:{id:c("modalForm.attributes.select-components"),defaultMessage:"Select the components"},isMultiple:!0}]}]}}}},fn=(e,n)=>{e.forEach(s=>{if(!("sectionTitle"in s)){n[0].items?.push(s);return}n.push(s)})},Pr=(e,n)=>`components_${(0,G.snakeCase)(n)}_${it((0,G.snakeCase)(e))}`,hn=(e,n)=>e.filter(({name:s})=>s!==n.initialData.name).map(({name:s})=>s),Ue={customField:{schema({schemaAttributes:e,attributeType:n,customFieldValidator:s,reservedNames:r,schemaData:o,ctbFormsAPI:l}){const i=hn(e,o);_e[n];let d;return n==="relation"?d=_e[n](i,r.attributes,[],{initialData:{},modifiedData:{}}):d=_e[n](i,r.attributes),l.makeCustomFieldValidator(d,s,i,r.attributes,o)},form:{base({customField:e}){const n=[{sectionTitle:null,items:[Ee]}];return e.options?.base&&fn(e.options.base,n),{sections:n}},advanced({customField:e,data:n,step:s,extensions:r,...o}){const l=[{sectionTitle:null,items:[]}],i=r.getAdvancedForm(["attribute",e.type],{data:n,type:e.type,step:s,...o});if(e.options?.advanced&&fn(e.options.advanced,l),i){const d={sectionTitle:{id:c("modalForm.custom-fields.advanced.settings.extended"),defaultMessage:"Extended settings"},items:i};l.push(d)}return{sections:l}}}},attribute:{schema(e,n,s,r,o,l){const i=e?.schema?.attributes??[],d=hn(i,o);try{const u=_e[n](d,s.attributes,r,o);return l.makeValidator(["attribute",n],u,d,s.attributes,r,o)}catch(u){return console.error("Error yup build schema",u),_e.default(d,s.attributes)}},form:{advanced({data:e,type:n,step:s,extensions:r,...o}){try{const l=dn.advanced[n](e,s).sections,i=r.getAdvancedForm(["attribute",n],{data:e,type:n,step:s,...o});return{sections:l.reduce((u,p)=>(p.sectionTitle===null?u.push(p):u.push({...p,items:[...p.items,...i]}),u),[])}}catch(l){return console.error(l),{sections:[]}}},base({data:e,type:n,step:s,attributes:r}){try{return dn.base[n](e,s,r)}catch{return kr}}}},contentType:{schema(e,n,s,r,o,l){const i=Object.values(l).map(C=>C.schema.singularName),d=Object.values(l).map(C=>C?.schema?.pluralName??""),u=n?e.filter(C=>C!==s):e,p=n?i.filter(C=>{const{schema:A}=l[s];return A.singularName!==C}):i,g=n?d.filter(C=>{const{schema:A}=l[s];return A.pluralName!==C}):d,m=Object.values(l).map(C=>C?.schema?.collectionName??""),E=n?m.filter(C=>{const{schema:A}=l[s],W=A.pluralName,M=A.collectionName;return C!==W||C!==M}):m,S=Rr({usedContentTypeNames:u,reservedModels:r.models,singularNames:p,pluralNames:g,collectionNames:E});return o.makeValidator(["contentType"],S,u,r.models,p,g)},form:{base({actionType:e}){return e==="create"?Tt.base.create():Tt.base.edit()},advanced({extensions:e}){const n=Tt.advanced.default().sections.map(r=>r.items).flat(),s=e.getAdvancedForm(["contentType"]);return{sections:[{items:[...n,...s]}]}}}},component:{schema(e,n,s,r=!1,o,l,i=null){const d=r?e.filter(m=>m!==i):e,u=Object.values(o).map(m=>m?.schema?.collectionName),p=Pr(l,n),g=r?u.filter(m=>m!==p):u;return Dr(d,s.models,n,g,p)},form:{advanced(){return{sections:He.advanced()}},base(){return{sections:He.base()}}}},addComponentToDynamicZone:{form:{advanced(){return Mt.advanced.default()},base({data:e}){return e?.createComponent??!1?Mt.base.createComponent():Mt.base.default()}}},editCategory:{schema(e,n){const s=e.filter(r=>r!==n.name).map(r=>r.toLowerCase());return Ir(s)},form:{advanced:()=>({sections:[]}),base(){return $r.base}}}},Br=()=>e=>e[`${b.p}_formModal`]||b.i,Ur=()=>(0,_t.M3)(Br(),e=>e),Zr=(e,n)=>{const s=I(e,["contentType","schema","kind"],"");return s==="singleType"||s===n.kind?!0:I(e,["contentType","schema","attributes"],[]).filter(({relation:l,type:i,targetAttribute:d})=>{const u=(0,b.g)(l,d);return i==="relation"&&!["oneWay","manyWay"].includes(u||"")}).length===0},Wr=(e="",n,s)=>{const r=["text","boolean","blocks","json","number","email","date","password","media","enumeration","relation","richtext"],o=e==="contentType",l=s.includes(n),i=!o&&!l;return o?[[...r.slice(0,-1),"uid",...r.slice(-1)],["component","dynamiczone"]]:i?[r,["component"]]:[r]},yn=e=>e.reduce((n,s)=>{const r=s.items.reduce((o,l)=>(l.name&&o.push(l.name),o),[]);return[...n,...r]},[]),zr=()=>{const{onCloseModal:e,onNavigateToChooseAttributeModal:n,onNavigateToAddCompoToDZModal:s,onNavigateToCreateComponentStep2:r,actionType:o,attributeName:l,attributeType:i,customFieldUid:d,categoryName:u,dynamicZoneTarget:p,forTarget:g,modalType:m,isOpen:E,kind:S,step:C,targetUid:A,showBackLink:W}=Qe(),M=(0,F.QV)().get(d),L=(0,f.useRef)(),P=(0,f.useMemo)(Ur,[]),B=(0,Ge.OY)(),J=(0,F.eo)(),ue=(0,Ge.w1)(Q=>P(Q),Ge.G),{push:be}=(0,Me.Uz)(),{trackUsage:z}=(0,F.m4)(),{formatMessage:ve}=(0,w.c)(),{getPlugin:q}=(0,F.U7)(),ge=q(b.p)?.apis.forms,oe=ge.components.inputs,{addAttribute:Re,addCustomFieldAttribute:me,addCreatedComponentToDynamicZone:Y,allComponentsCategories:N,changeDynamicZoneComponents:jt,contentTypes:we,components:Ze,createSchema:Ke,deleteCategory:At,deleteData:ct,editCategory:St,editCustomFieldAttribute:Ft,submitData:Nt,modifiedData:fe,nestedComponents:Ot,setModifiedData:Lt,sortedContentTypesList:kt,updateSchema:dt,reservedNames:We}=De(),{componentToCreate:tt,formErrors:Pe,initialData:ce,isCreatingComponentWhileAddingAField:nt,modifiedData:y}=ue,k=g==="contentType"||g==="component"?[g]:[g,A];(0,f.useEffect)(()=>{if(E){const Q=kt.filter(an);m==="editCategory"&&Lt(),o==="edit"&&m==="attribute"&&g==="contentType"&&z("willEditFieldOfContentType");const Te=[...k,"schema","attributes"],ke=gt(I(fe,Te,[]),p)||null;if(m==="editCategory"&&o==="edit"&&B({type:b.S,modalType:m,actionType:o,data:{name:u}}),m==="contentType"&&o==="create"&&B({type:b.S,modalType:m,actionType:o,data:{draftAndPublish:!0},pluginOptions:{}}),m==="contentType"&&o==="edit"){const{displayName:K,draftAndPublish:de,kind:Se,pluginOptions:ye,pluralName:Mi,reviewWorkflows:ji,singularName:Ai}=I(fe,[...k,"schema"],{displayName:null,pluginOptions:{},singularName:null,pluralName:null});B({type:b.S,actionType:o,modalType:m,data:{displayName:K,draftAndPublish:de,kind:Se,pluginOptions:ye,pluralName:Mi,reviewWorkflows:ji??!1,singularName:Ai}})}if(m==="component"&&o==="edit"){const K=I(fe,k,{});B({type:b.S,actionType:o,modalType:m,data:{displayName:K.schema.displayName,category:K.category,icon:K.schema.icon}})}if(m==="addComponentToDynamicZone"&&o==="edit"){const K={...ke,components:[],name:p,createComponent:!1,componentToCreate:{type:"component"}};B({type:b.d,attributeToEdit:K})}if(i){const de={...gt(I(fe,Te,[]),l),name:l};i==="component"&&o==="edit"&&(de.repeatable||Xt(de,"repeatable",!1)),B(m==="customField"?{type:b.e,customField:M,isEditing:o==="edit",modifiedDataToSetForEditing:de,forTarget:g}:{type:b.f,attributeType:i,nameToSetForRelation:I(Q,["0","title"],"error"),targetUid:I(Q,["0","uid"],"error"),isEditing:o==="edit",modifiedDataToSetForEditing:de,step:C,forTarget:g})}}else B({type:b.R})},[o,l,i,u,p,g,E,m]);const V=m==="contentType",ie=m==="component",he=m==="attribute",Oe=m==="customField",Le=i==="component"&&he,ze=o==="create",Ve=I(y,"createComponent",!1)||nt,Ye=C==="1",Fn=m==="editCategory",Nn=m==="chooseAttribute",Et=(0,b.b)(y.displayName||""),It=I(fe,[...k,"schema","attributes"],null),ci=async()=>{let Q;const Te=Ve&&C==="1"?I(y,"componentToCreate",{}):y;if(V)Q=Ue.contentType.schema(Object.keys(we),o==="edit",I(fe,[...k,"uid"],null),We,ge,we);else if(ie)Q=Ue.component.schema(Object.keys(Ze),y.category||"",We,o==="edit",Ze,y.displayName||"",I(fe,[...k,"uid"],null));else if(Oe)Q=Ue.customField.schema({schemaAttributes:I(fe,[...k,"schema","attributes"],[]),attributeType:M.type,reservedNames:We,schemaData:{modifiedData:y,initialData:ce},ctbFormsAPI:ge,customFieldValidator:M.options?.validator});else if(Le&&Ve&&Ye)Q=Ue.component.schema(Object.keys(Ze),I(y,"componentToCreate.category",""),We,o==="edit",Ze,y.componentToCreate.displayName||"");else if(he&&!Ye){const ke=i==="relation"?"relation":y.type;let K=[];if(ke==="relation"){const de=I(y,["target"],null);K=I(we,[de,"schema","attributes"],[]).filter(({name:ye})=>o!=="edit"?!0:ye!==ce.targetAttribute)}Q=Ue.attribute.schema(I(fe,k,{}),ke,We,K,{modifiedData:y,initialData:ce},ge)}else if(Fn)Q=Ue.editCategory.schema(N,ce);else if(Ye&&Ve)Q=Ue.component.schema(Object.keys(Ze),I(y,"componentToCreate.category",""),We,o==="edit",Ze,y.componentToCreate.displayName||"");else return;await Q.validate(Te,{abortEarly:!1})},On=(0,f.useCallback)(({target:{name:Q,value:Te,type:ke,...K}})=>{const de=["enumName","max","min","maxLength","minLength","regex","default"];let Se;de.includes(Q)&&Te===""?Se=null:Se=Te;const ye=Object.assign({},Pe);Q==="max"&&delete ye.min,Q==="maxLength"&&delete ye.minLength,delete ye[Q],B({type:b.h,errors:ye}),B({type:b.j,keys:Q.split("."),value:Se,...K})},[B,Pe]),Ae=async(Q,Te=ze)=>{Q.preventDefault();try{await ci(),mi(Te);const ke=g==="components"?A:Et;if(V)if(ze)Ke({...y,kind:S},m,Et),be({pathname:`/plugins/${b.p}/content-types/${Et}`}),n({forTarget:g,targetUid:ke});else{Zr(fe,y)?(e(),Nt(y)):J({type:"warning",message:{id:"notification.contentType.relations.conflict"}});return}else if(m==="component")if(ze){const K=(0,b.c)(y.displayName,y.category),{category:de,...Se}=y;Ke(Se,"component",K,de),be({pathname:`/plugins/${b.p}/component-categories/${de}/${K}`}),n({forTarget:g,targetUid:K})}else{dt(y,m,A),e();return}else if(Fn){if(Jt(ce.name)===Jt(y.name)){e();return}St(ce.name,y);return}else if(Oe){const K={attributeToSet:{...y,customField:d},forTarget:g,targetUid:A,initialAttribute:ce};o==="edit"?Ft(K):me(K),Te?n({forTarget:g,targetUid:ke}):e();return}else if(he&&!Ve){if(i==="dynamiczone"){Re(y,g,A,o==="edit",ce),ze?(B({type:b.k}),L.current!==void 0&&L.current._handlers.setSelectedTabIndex(0),s({dynamicZoneTarget:y.name})):e();return}if(!Le){Re(y,g,A,o==="edit",ce),Te?n({forTarget:g,targetUid:ke}):e();return}if(Ye){r(),B({type:b.l,forTarget:g});return}Re(y,g,A,o==="edit",ce,!0),Te?n({forTarget:g,targetUid:A}):e()}else if(he&&Ve){if(Ye){z("willCreateComponentFromAttributesModal"),B({type:b.m,forTarget:g}),r();return}const{category:K,type:de,...Se}=tt,ye=(0,b.c)(tt.displayName,K);Ke(Se,de,ye,K,Ve),Re(y,g,A,!1),B({type:b.R}),Te?n({forTarget:"components",targetUid:ye}):e();return}else{if(Ye)if(Ve){const{category:K,type:de,...Se}=y.componentToCreate,ye=(0,b.c)(y.componentToCreate.displayName,K);Ke(Se,de,ye,K,Ve),Y(p,[ye]),n({forTarget:"components",targetUid:ye})}else jt(p,y.components),e();else console.error("This case is not handled");return}B({type:b.R})}catch(ke){const K=(0,F.CK)(ke);B({type:b.h,errors:K})}},di=()=>{window.confirm(ve({id:"window.confirm.close-modal.file",defaultMessage:"Are you sure? Your changes will be lost."}))&&(e(),B({type:b.R}))},Ln=()=>{mt(y,ce)?(e(),B({type:b.R})):di()},ui=Q=>{if(Q==="advanced"){if(V){z("didSelectContentTypeSettings");return}g==="contentType"&&z("didSelectContentTypeFieldSettings")}},mi=Q=>{m==="attribute"&&g==="contentType"&&i!=="dynamiczone"&&Q&&z("willAddMoreFieldToContentType")},pi=()=>!!(m==="editCategory"||m==="component"||Ro(y,"createComponent")),gi=Wr(g,A,Ot);if(!E||!m)return null;const kn=I(Ue,[m,"form"],{advanced:()=>({sections:[]}),base:()=>({sections:[]})}),fi=g==="components"||g==="component",En={customInputs:{"allowed-types-select":Qo,"boolean-radio-group":or,"checkbox-with-number-field":rr,"icon-picker":fr,"content-type-radio-group":ir,"radio-group":ft,relation:jr,"select-category":Ar,"select-component":Sr,"select-components":Fr,"select-default-boolean":ar,"select-number":ln,"select-date":Nr,"toggle-draft-publish":lr,"text-plural":hr,"text-singular":Or,"textarea-enum":Lr,...oe},componentToCreate:tt,dynamicZoneTarget:p,formErrors:Pe,isAddingAComponentToAnotherComponent:fi,isCreatingComponentWhileAddingAField:nt,mainBoxHeader:I(fe,[...k,"schema","displayName"],""),modifiedData:y,naturePickerType:g,isCreating:ze,targetUid:A,forTarget:g},In=kn.advanced({data:y,type:i,step:C,actionType:o,attributes:It,extensions:ge,forTarget:g,contentTypeSchema:fe.contentType||{},customField:M}).sections,$n=kn.base({data:y,type:i,step:C,actionType:o,attributes:It,extensions:ge,forTarget:g,contentTypeSchema:fe.contentType||{},customField:M}).sections,hi=yn($n),yi=yn(In),vi=Object.keys(Pe).some(Q=>hi.includes(Q)),xi=Object.keys(Pe).some(Q=>yi.includes(Q)),bi=I(we,[A,"schema","kind"]),Ci=()=>o==="edit"&&It.every(({name:Q})=>Q!==y?.name),Ti=()=>{Ci()&&z("didEditFieldNameOnContentType")};return(0,t.jsxs)(Vn.E,{onClose:Ln,labelledBy:"title",children:[(0,t.jsx)(dr,{actionType:o,attributeName:l,categoryName:u,contentTypeKind:S,dynamicZoneTarget:p,modalType:m,forTarget:g,targetUid:A,attributeType:i,customFieldUid:d,showBackLink:W}),Nn&&(0,t.jsx)(nr,{attributes:gi,forTarget:g,kind:bi||"collectionType"}),!Nn&&(0,t.jsxs)("form",{onSubmit:Ae,children:[(0,t.jsx)(Ie.a,{children:(0,t.jsxs)(le.M,{label:"todo",id:"tabs",variant:"simple",ref:L,onTabChange:Q=>{Q===1&&ui("advanced")},children:[(0,t.jsxs)(x.C,{justifyContent:"space-between",children:[(0,t.jsx)(mr,{actionType:o,forTarget:g,kind:S,step:C,modalType:m,attributeType:i,attributeName:l,customField:M}),(0,t.jsxs)(re.k,{children:[(0,t.jsx)(re.s,{hasError:vi,children:ve({id:c("popUpForm.navContainer.base"),defaultMessage:"Basic settings"})}),(0,t.jsx)(re.s,{hasError:xi,disabled:pi(),children:ve({id:c("popUpForm.navContainer.advanced"),defaultMessage:"Advanced settings"})})]})]}),(0,t.jsx)(te.c,{}),(0,t.jsx)(h.k,{paddingTop:6,children:(0,t.jsxs)(se.o,{children:[(0,t.jsx)(se.G,{children:(0,t.jsx)(x.C,{direction:"column",alignItems:"stretch",gap:6,children:(0,t.jsx)(cn,{form:$n,formErrors:Pe,genericInputProps:En,modifiedData:y,onChange:On})})}),(0,t.jsx)(se.G,{children:(0,t.jsx)(x.C,{direction:"column",alignItems:"stretch",gap:6,children:(0,t.jsx)(cn,{form:In,formErrors:Pe,genericInputProps:En,modifiedData:y,onChange:On})})})]})})]})}),(0,t.jsx)(Gn._,{endActions:(0,t.jsx)(cr,{deleteCategory:At,deleteContentType:ct,deleteComponent:ct,categoryName:ce.name,isAttributeModal:m==="attribute",isCustomFieldModal:m==="customField",isComponentToDzModal:m==="addComponentToDynamicZone",isComponentAttribute:i==="component",isComponentModal:m==="component",isContentTypeModal:m==="contentType",isCreatingComponent:o==="create",isCreatingDz:o==="create",isCreatingComponentAttribute:y.createComponent||!1,isCreatingComponentInDz:y.createComponent||!1,isCreatingComponentWhileAddingAField:nt,isCreatingContentType:o==="create",isEditingAttribute:o==="edit",isDzAttribute:i==="dynamiczone",isEditingCategory:m==="editCategory",isInFirstComponentStep:C==="1",onSubmitAddComponentAttribute:Ae,onSubmitAddComponentToDz:Ae,onSubmitCreateComponent:Ae,onSubmitCreateContentType:Ae,onSubmitCreateDz:Ae,onSubmitEditAttribute:Ae,onSubmitEditCategory:Ae,onSubmitEditComponent:Ae,onSubmitEditContentType:Ae,onSubmitEditCustomFieldAttribute:Ae,onSubmitEditDz:Ae,onClickFinish:Ti}),startActions:(0,t.jsx)(ee.Z,{variant:"tertiary",onClick:Ln,children:ve({id:"app.components.Button.cancel",defaultMessage:"Cancel"})})})]})]})},Vr=()=>e=>e[`${b.p}_dataManagerProvider`]||b.o,Gr=()=>(0,_t.M3)(Vr(),e=>e),Qr=(e,n)=>{const s=Object.keys(e).filter(r=>{const o=I(e,r,{}),l=I(n,r,{}),i=I(o,["isTemporary"],!1),d=!mt(o,l);return i||d});return(0,b.q)(s)},Hr=(e,n)=>{const s=xn(I(e,"schema.attributes",[]),n),r=I(e,"isTemporary",!1)?{tmpUID:e.uid}:{uid:e.uid};return Object.assign({},r,{category:e.category},en(e.schema,"attributes"),{attributes:s})},vn=(e,n=!1)=>{const s=I(e,"uid",null),r=xn(I(e,"schema.attributes",[]),s),o=n?{category:I(e,"category","")}:{},l=Object.assign(o,en(e.schema,"attributes"),{attributes:r});return delete l.uid,delete l.isTemporary,delete l.visible,delete l.restrictRelationsTo,l},xn=(e,n)=>e.reduce((s,{name:r,...o})=>{const l=o,i=l.target===n,d=l.type==="relation",u=I(l,"targetAttribute",null);if(!i)if(d){const p=Object.assign({},l,{targetAttribute:bn(u)});s[r]=lt(p)}else s[r]=lt(l);if(i){const p=l.target,g=Object.assign({},l,{target:p,targetAttribute:bn(u)});s[r]=lt(g)}if(l.customField){const p={...l,type:"customField"};s[r]=lt(p)}return s},{}),bn=e=>e==="-"?null:e,lt=e=>Object.keys(e).reduce((n,s)=>(e[s]!==null&&s!=="plugin"&&(n[s]=e[s]),n),{}),wr=(e,n,s)=>Qr(e,n).map(l=>{const i=I(e,l,{});return Hr(i,s)}),Kr=e=>Wo(Object.keys(e).map(n=>({visible:e[n].schema.visible,name:n,title:e[n].schema.displayName,plugin:e[n].plugin||null,uid:n,to:`/plugins/${b.p}/content-types/${n}`,kind:e[n].schema.kind,restrictRelationsTo:e[n].schema.restrictRelationsTo})).filter(n=>n!==null),n=>Zo(n.title)),Cn=e=>e.reduce((n,s)=>(n[s.uid]=s,n),{}),Yr=(e,n,s,r)=>{const o=n.reduce((d,u)=>{const p=I(s,u,{});return d[u]=p,d},{});return{[r?"contentType":"component"]:e,components:o}},Tn=e=>Object.keys(e).reduce((n,s)=>{const r=e[s].schema;return n[s]={...e[s],schema:{...r,attributes:Xr(r.attributes)}},n},{}),Xr=e=>Object.keys(e).reduce((n,s)=>(n.push({...e[s],name:s}),n),[]),Jr=e=>{const n=Object.keys(e).reduce((s,r)=>{const o=I(e,[r]),l=o.uid;return qr(o)&&s.push(l),s},[]);return(0,b.q)(n)},qr=e=>I(e,["schema","attributes"],[]).some(s=>{const{type:r}=s;return r==="component"}),Mn=e=>{const n=Object.keys(e).reduce((s,r)=>{const o=e?.[r]?.schema?.attributes??[],l=_r(o);return[...s,...l]},[]);return(0,b.q)(n)},_r=e=>e.reduce((n,s)=>{const{type:r,component:o}=s;return r==="component"&&n.push(o),n},[]),ei=(e,n)=>{const s=Object.keys(e).map(r=>I(e,[r,...n],""));return(0,b.q)(s)},jn="did-not-kill-server",ti="server is down";function et(e,n){return new Promise(s=>{fetch(`${window.strapi.backendURL}/_health`,{method:"HEAD",mode:"no-cors",headers:{"Content-Type":"application/json","Keep-Alive":"false"}}).then(r=>{if(r.status>=400)throw new Error(ti);if(!n)throw new Error(jn);s(e)}).catch(r=>{setTimeout(()=>et(e,r.message!==jn).then(s),100)})})}const ni=e=>Object.values(e.attributes).filter(s=>s.type==="dynamiczone").every(s=>Array.isArray(s.components)&&s.components.length>0),ai=({children:e})=>{const n=(0,Ge.OY)(),{components:s,contentTypes:r,isLoading:o,isLoadingForDataToBeSet:l,initialData:i,modifiedData:d,reservedNames:u}=(0,Ge.w1)(Gr()),p=(0,F.eo)(),{lockAppWithAutoreload:g,unlockAppWithAutoreload:m}=(0,F.iK)(),{setCurrentStep:E}=(0,F.sg)(),{getPlugin:S}=(0,F.U7)(),C=S(b.p),{autoReload:A}=(0,F.s7)(),{formatMessage:W}=(0,w.c)(),{trackUsage:M}=(0,F.m4)(),{refetchPermissions:L}=(0,F.c_)(),{pathname:P}=(0,Me.IT)(),{onCloseModal:B}=Qe(),J=(0,Me.SU)(`/plugins/${b.p}/content-types/:uid`),ue=(0,Me.SU)(`/plugins/${b.p}/component-categories/:categoryUid/:componentUid`),be=(0,F.Qn)(),{put:z,post:ve,del:q}=be,Ce=(0,f.useRef)();Ce.current=W;const ge=A,oe=J!==null,Re=oe?"contentType":"component",me=oe?I(J,"params.uid",null):I(ue,"params.componentUid",null),Y=(0,f.useRef)(),N=oe?"content-types":"components";Y.current=async()=>{try{const[{data:{data:y}},{data:{data:k}},{data:V}]=await Promise.all(["components","content-types","reserved-names"].map(ze=>be.get(`/${b.p}/${ze}`))),ie=Cn(y),he=Tn(ie),Oe=Cn(k),Le=Tn(Oe);n({type:b.G,components:he,contentTypes:Le,reservedNames:V})}catch(y){console.error({err:y}),p({type:"warning",message:{id:"notification.error"}})}},(0,f.useEffect)(()=>(Y.current(),()=>{n({type:b.r})}),[]),(0,f.useEffect)(()=>{!o&&me&&dt()},[o,P,me]),(0,f.useEffect)(()=>{A||p({type:"info",message:{id:c("notification.info.autoreaload-disable")}})},[A,p]);const jt=(y,k,V,ie=!1,he,Oe=!1)=>{const Le=ie?b.w:b.x;n({type:Le,attributeToSet:y,forTarget:k,targetUid:V,initialAttribute:he,shouldAddComponentToData:Oe})},we=({attributeToSet:y,forTarget:k,targetUid:V,initialAttribute:ie})=>{n({type:b.A,attributeToSet:y,forTarget:k,targetUid:V,initialAttribute:ie})},Ze=({attributeToSet:y,forTarget:k,targetUid:V,initialAttribute:ie})=>{n({type:b.E,attributeToSet:y,forTarget:k,targetUid:V,initialAttribute:ie})},Ke=(y,k)=>{n({type:b.u,dynamicZoneTarget:y,componentsToAdd:k})},At=(y,k,V,ie,he=!1)=>{const Oe=k==="contentType"?b.y:b.z;n({type:Oe,data:y,componentCategory:ie,schemaType:k,uid:V,shouldAddComponentToData:he})},ct=(y,k)=>{n({type:b.C,dynamicZoneTarget:y,newComponents:k})},St=(y,k,V="")=>{const ie=y==="components"?b.B:b.F;y==="contentType"&&M("willDeleteFieldOfContentType"),n({type:ie,mainDataKey:y,attributeToRemoveName:k,componentUid:V})},Ft=async y=>{try{const k=`/${b.p}/component-categories/${y}`,V=window.confirm(W({id:c("popUpWarning.bodyMessage.category.delete")}));B(),V&&(g?.(),await q(k),await et(!0),m?.(),await ce())}catch(k){console.error({err:k}),p({type:"warning",message:{id:"notification.error"}})}finally{m?.()}},Nt=async()=>{try{const y=`/${b.p}/${N}/${me}`,k=I(d,[Re,"isTemporary"],!1),V=window.confirm(W({id:c(`popUpWarning.bodyMessage.${oe?"contentType":"component"}.delete`)}));if(B(),V){if(k){n({type:b.D});return}g?.(),await q(y),await et(!0),await m?.(),await ce()}}catch(y){console.error({err:y}),p({type:"warning",message:{id:"notification.error"}})}finally{m?.()}},fe=async(y,k)=>{try{const V=`/${b.p}/component-categories/${y}`;B(),g?.(),await z(V,k),await et(!0),await m?.(),await ce()}catch(V){console.error({err:V}),p({type:"warning",message:{id:"notification.error"}})}finally{m?.()}},Ot=()=>{const y=Object.assign({},s,d.components);if(!oe){const V=I(d,"component",{});Xt(y,I(V,["uid"],""),V)}const k=Jr(y);return(0,b.q)(k)},Lt=()=>{const y=Mn(s),k=Mn(d.components||{});return(0,b.q)([...k,...y])},kt=(y,k)=>{n({type:b.v,dzName:y,componentToRemoveIndex:k})},dt=()=>{const k=I(oe?r:s,me??"",{schema:{attributes:[]}}),V=(0,b.s)(k.schema.attributes,s),ie=Yr(k,V,s,oe),he=I(k,"isTemporary",!1)&&Do(I(k,"schema.attributes",[]))===0;n({type:b.t,schemaToSet:ie,hasJustCreatedSchema:he})},We=(0,f.useMemo)(()=>{const y=oe?r:s;return me==="create-content-type"?!1:!Object.keys(y).includes(me||"")&&!o},[s,r,me,oe,o]),tt=(0,f.useMemo)(()=>{const y=Object.keys(r).filter(k=>I(r,[k,"schema","visible"],!0)).sort();return I(y,"0","create-content-type")},[r]);if(We)return(0,t.jsx)(Me.YJ,{to:`/plugins/${b.p}/content-types/${tt}`});const Pe=async y=>{try{const k=I(d,[Re,"isTemporary"],!1),V={components:wr(d.components,s,me)};if(oe){const Le=(C?.apis?.forms).mutateContentTypeSchema({...vn(d.contentType),...y},i.contentType);if(!ni(Le)){p({type:"warning",message:{id:c("notification.error.dynamiczone-min.validation"),defaultMessage:"At least one component is required in a dynamic zone to be able to save a content type"}});return}V.contentType=Le,M("willSaveContentType")}else V.component=vn(d.component,!0),M("willSaveComponent");g?.();const ie=`/${b.p}/${N}`,he=k?ie:`${ie}/${me}`;if(k?await ve(he,V):await z(he,V),await et(!0),await m?.(),k&&(i.contentType?.schema.kind==="collectionType"||i.contentType?.schema.kind==="singleType")&&E("contentTypeBuilder.success"),oe){M("didSaveContentType");const Oe=I(V,["contentType","schema","name"],""),Le=I(i,["contentType","schema","name"],"");!k&&Oe!==Le&&M("didEditNameOfContentType")}else M("didSaveComponent");await ce()}catch(k){oe||M("didNotSaveComponent"),console.error({err:k.response}),p({type:"warning",message:{id:"notification.error"}})}finally{m?.()}},ce=async()=>{await L()},nt=(y,k,V)=>{n({type:b.U,data:y,schemaType:k,uid:V})};return(0,t.jsx)(tn.Provider,{value:{addAttribute:jt,addCustomFieldAttribute:we,addCreatedComponentToDynamicZone:Ke,allComponentsCategories:ei(s,["category"]),changeDynamicZoneComponents:ct,components:s,componentsGroupedByCategory:$o(s,"category"),componentsThatHaveOtherComponentInTheirAttributes:Ot(),contentTypes:r,createSchema:At,deleteCategory:Ft,deleteData:Nt,editCategory:fe,editCustomFieldAttribute:Ze,isInDevelopmentMode:ge,initialData:i,isInContentTypeView:oe,modifiedData:d,nestedComponents:Lt(),removeAttribute:St,removeComponentFromDynamicZone:kt,reservedNames:u,setModifiedData:dt,sortedContentTypesList:Kr(r),submitData:Pe,updateSchema:nt},children:l?(0,t.jsx)(F.Wm,{}):(0,t.jsxs)(t.Fragment,{children:[e,ge&&(0,t.jsx)(zr,{})]})})},si=(0,f.memo)(ai),An={actionType:null,attributeName:null,attributeType:null,categoryName:null,dynamicZoneTarget:null,forTarget:null,modalType:null,isOpen:!1,showBackLink:!1,kind:null,step:null,targetUid:null,customFieldUid:null},oi=({children:e})=>{const[n,s]=f.useState(An),{trackUsage:r}=(0,F.m4)(),o=({attributeType:M,customFieldUid:L})=>{s(P=>({...P,actionType:"create",modalType:"customField",attributeType:M,customFieldUid:L}))},l=({attributeType:M,step:L})=>{n.forTarget==="contentType"&&r("didSelectContentTypeFieldType",{type:M}),s(P=>({...P,actionType:"create",modalType:"attribute",step:L,attributeType:M,showBackLink:!0}))},i=({dynamicZoneTarget:M,targetUid:L})=>{s(P=>({...P,dynamicZoneTarget:M,targetUid:L,modalType:"addComponentToDynamicZone",forTarget:"contentType",step:"1",actionType:"edit",isOpen:!0}))},d=({forTarget:M,targetUid:L})=>{s(P=>({...P,actionType:"create",forTarget:M,targetUid:L,modalType:"chooseAttribute",isOpen:!0,showBackLink:!1}))},u=M=>{s(L=>({...L,...M,isOpen:!0}))},p=M=>{s(L=>({...L,categoryName:M,actionType:"edit",modalType:"editCategory",isOpen:!0}))},g=({forTarget:M,targetUid:L,attributeName:P,attributeType:B,customFieldUid:J})=>{s(ue=>({...ue,modalType:"customField",customFieldUid:J,actionType:"edit",forTarget:M,targetUid:L,attributeName:P,attributeType:B,isOpen:!0}))},m=({forTarget:M,targetUid:L,attributeName:P,attributeType:B,step:J})=>{s(ue=>({...ue,modalType:"attribute",actionType:"edit",forTarget:M,targetUid:L,attributeName:P,attributeType:B,step:J,isOpen:!0}))},E=({modalType:M,forTarget:L,targetUid:P,kind:B})=>{s(J=>({...J,modalType:M,actionType:"edit",forTarget:L,targetUid:P,kind:B,isOpen:!0}))},S=()=>{s(An)},C=({forTarget:M,targetUid:L})=>{s(P=>({...P,forTarget:M,targetUid:L,modalType:"chooseAttribute"}))},A=()=>{s(M=>({...M,attributeType:"component",modalType:"attribute",step:"2"}))},W=({dynamicZoneTarget:M})=>{s(L=>({...L,dynamicZoneTarget:M,modalType:"addComponentToDynamicZone",actionType:"create",step:"1",attributeType:null,attributeName:null}))};return(0,t.jsx)(nn.Provider,{value:{...n,onClickSelectField:l,onClickSelectCustomField:o,onCloseModal:S,onNavigateToChooseAttributeModal:C,onNavigateToAddCompoToDZModal:W,onOpenModalAddComponentsToDZ:i,onNavigateToCreateComponentStep2:A,onOpenModalAddField:d,onOpenModalCreateSchema:u,onOpenModalEditCategory:p,onOpenModalEditField:m,onOpenModalEditCustomField:g,onOpenModalEditSchema:E,setFormModalNavigationState:s},children:e})},ri=(0,f.lazy)(()=>a.e(1460).then(a.bind(a,21460))),ii=()=>{const{url:e}=(0,Me.SU)();return(0,t.jsx)(f.Suspense,{fallback:(0,t.jsx)(F.Wm,{}),children:(0,t.jsx)(Me.Wk,{children:(0,t.jsx)(Me.kX,{path:`${e}/:componentUid`,children:(0,t.jsx)(ri,{})})})})},Sn=(0,f.lazy)(()=>a.e(1460).then(a.bind(a,21460))),li=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const{formatMessage:e}=(0,w.c)(),n=e({id:`${b.p}.plugin.name`,defaultMessage:"Content Types Builder"}),{startSection:s}=(0,F.sg)(),r=(0,f.useRef)(s);return(0,f.useEffect)(()=>{r.current&&r.current("contentTypeBuilder")},[]),(0,t.jsxs)(F.rF,{permissions:b.P.main,children:[(0,t.jsx)(Hn.S,{title:n}),(0,t.jsx)(oi,{children:(0,t.jsx)(si,{children:(0,t.jsx)(Qn._,{sideNav:(0,t.jsx)(Vo,{}),children:(0,t.jsx)(f.Suspense,{fallback:(0,t.jsx)(F.Wm,{}),children:(0,t.jsxs)(Me.Wk,{children:[(0,t.jsx)(Me.kX,{path:`/plugins/${b.p}/content-types/create-content-type`,component:Sn}),(0,t.jsx)(Me.kX,{path:`/plugins/${b.p}/content-types/:uid`,component:Sn}),(0,t.jsx)(Me.kX,{path:`/plugins/${b.p}/component-categories/:categoryUid`,component:ii})]})})})})})]})}},Symbol.toStringTag,{value:"Module"}))}}]);
